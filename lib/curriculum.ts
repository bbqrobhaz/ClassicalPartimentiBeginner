import type { Lesson, Achievement, SkillLevel } from "./types"

export const SKILL_LEVELS: SkillLevel[] = [
  { level: 1, name: "Novice", xp: 0, xpRequired: 0 },
  { level: 2, name: "Apprentice", xp: 0, xpRequired: 100 },
  { level: 3, name: "Journeyman", xp: 0, xpRequired: 300 },
  { level: 4, name: "Expert", xp: 0, xpRequired: 600 },
  { level: 5, name: "Master", xp: 0, xpRequired: 1000 },
  { level: 6, name: "Grandmaster", xp: 0, xpRequired: 1500 },
  { level: 7, name: "Virtuoso", xp: 0, xpRequired: 2500 },
]

export const ACHIEVEMENTS: Achievement[] = [
  {
    id: "first-lesson",
    name: "First Steps",
    description: "Complete your first lesson",
    icon: "üéµ",
    progress: 0,
    target: 1,
  },
  {
    id: "week-streak",
    name: "Dedicated Student",
    description: "Practice for 7 days in a row",
    icon: "üî•",
    progress: 0,
    target: 7,
  },
  {
    id: "month-streak",
    name: "Committed Scholar",
    description: "Practice for 30 days in a row",
    icon: "üåü",
    progress: 0,
    target: 30,
  },
  {
    id: "rule-of-the-octave-master",
    name: "Rule of the Octave Master",
    description: "Complete all Rule of the Octave lessons",
    icon: "üìê",
    progress: 0,
    target: 8,
  },
  {
    id: "schema-collector",
    name: "Schema Collector",
    description: "Learn all 18 galant schemata",
    icon: "üéº",
    progress: 0,
    target: 18,
  },
  {
    id: "diminution-expert",
    name: "Diminution Expert",
    description: "Master all historical diminution techniques",
    icon: "‚ú®",
    progress: 0,
    target: 20,
  },
  {
    id: "german-master",
    name: "German Tradition Master",
    description: "Complete all German Griffe and patterns",
    icon: "üá©üá™",
    progress: 0,
    target: 15,
  },
  {
    id: "italian-master",
    name: "Italian Tradition Master",
    description: "Complete all Italian partimenti",
    icon: "üáÆüáπ",
    progress: 0,
    target: 25,
  },
  {
    id: "improviser",
    name: "Baroque Improviser",
    description: "Complete a free improvisation exercise",
    icon: "üéπ",
    progress: 0,
    target: 1,
  },
  {
    id: "virtuoso",
    name: "Virtuoso",
    description: "Reach level 7 (Virtuoso)",
    icon: "üëë",
    progress: 0,
    target: 1,
  },
]

export const CURRICULUM: Lesson[] = [
  // ============================================
  // LEVEL 1: FOUNDATIONS (Beginner)
  // ============================================
  {
    id: "found-1-scale-degrees",
    title: "Introduction to Scale Degrees",
    description: "Learn to think in numbers: 1, 2, 3 represent Do, Re, Mi",
    category: "foundations",
    tradition: "both",
    difficulty: "beginner",
    level: 1,
    prerequisites: [],
    xpReward: 10,
    content: {
      theory:
        "In baroque improvisation, we use numbers to represent scale degrees. 1 is the tonic (Do), 2 is the supertonic (Re), 3 is the mediant (Mi), 4 is the subdominant (Fa), 5 is the dominant (Sol), 6 is the submediant (La), 7 is the leading tone (Ti), and 8 is the octave. This system makes it easy to transpose and understand patterns in any key.",
      examples: [
        {
          id: "ex-1",
          description: "Ascending scale in C major",
          notation: "1, 2, 3, 4, 5, 6, 7, 8",
          audioPattern: ["C4", "D4", "E4", "F4", "G4", "A4", "B4", "C5"],
        },
        {
          id: "ex-2",
          description: "Descending scale in C major",
          notation: "8, 7, 6, 5, 4, 3, 2, 1",
          audioPattern: ["C5", "B4", "A4", "G4", "F4", "E4", "D4", "C4"],
        },
      ],
      exercises: [
        {
          id: "ex1-1",
          type: "identify",
          prompt: "Listen to the scale degree and identify it",
          correctAnswer: "3",
          options: ["1", "2", "3", "4", "5"],
          audioPattern: ["E4"],
        },
        {
          id: "ex1-2",
          type: "identify",
          prompt: "Listen to the scale degree and identify it",
          correctAnswer: "5",
          options: ["3", "4", "5", "6", "7"],
          audioPattern: ["G4"],
        },
        {
          id: "ex1-3",
          type: "identify",
          prompt: "Listen to the scale degree and identify it",
          correctAnswer: "7",
          options: ["5", "6", "7", "8"],
          audioPattern: ["B4"],
        },
      ],
      historicalContext:
        "The solf√®ge system (Do, Re, Mi) was developed by Guido of Arezzo in the 11th century and became the foundation of all musical pedagogy. In the Neapolitan conservatories, students learned to sing scale degrees before touching an instrument.",
    },
  },
  {
    id: "found-2-figured-bass-53",
    title: "Simple Figured Bass: 5/3",
    description: "Learn the most basic figured bass symbol - the root position triad",
    category: "foundations",
    tradition: "both",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-1-scale-degrees"],
    xpReward: 15,
    content: {
      theory:
        "5/3 (or just 5, or often left blank) indicates a root position triad. The numbers mean intervals above the bass: 5th and 3rd. In C major, bass note 1 with 5/3 = C-E-G. This is the most common chord and is often left unfigured.",
      examples: [
        {
          id: "ex-1",
          description: "I chord (1 with 5/3)",
          notation: "Bass: 1, Figures: 5/3",
          audioPattern: ["C3", "E4", "G4", "C5"],
          figuredBass: "5/3",
        },
        {
          id: "ex-2",
          description: "V chord (5 with 5/3)",
          notation: "Bass: 5, Figures: 5/3",
          audioPattern: ["G3", "B4", "D5", "G5"],
          figuredBass: "5/3",
        },
        {
          id: "ex-3",
          description: "IV chord (4 with 5/3)",
          notation: "Bass: 4, Figures: 5/3",
          audioPattern: ["F3", "A4", "C5", "F5"],
          figuredBass: "5/3",
        },
      ],
      exercises: [
        {
          id: "ex2-1",
          type: "identify",
          prompt: "Which bass note creates a V chord with 5/3?",
          correctAnswer: "5",
          options: ["1", "4", "5", "6"],
        },
        {
          id: "ex2-2",
          type: "identify",
          prompt: "Listen to this chord. Which bass note is it?",
          correctAnswer: "1",
          options: ["1", "4", "5"],
          audioPattern: ["C3", "E4", "G4", "C5"],
        },
        {
          id: "ex2-3",
          type: "identify",
          prompt: "What intervals are above the bass in a 5/3 chord?",
          correctAnswer: "3rd and 5th",
          options: ["3rd and 5th", "3rd and 6th", "4th and 6th", "2nd and 5th"],
        },
        {
          id: "ex2-4",
          type: "identify",
          prompt: "Listen to this chord. Is it I, IV, or V?",
          correctAnswer: "IV",
          options: ["I", "IV", "V"],
          audioPattern: ["F3", "A4", "C5", "F5"],
        },
        {
          id: "ex2-5",
          type: "identify",
          prompt: "In C major, bass note 4 with 5/3 creates which chord?",
          correctAnswer: "F-A-C (IV)",
          options: ["C-E-G (I)", "F-A-C (IV)", "G-B-D (V)", "A-C-E (vi)"],
        },
        {
          id: "ex2-6",
          type: "identify",
          prompt: "Listen to this progression. Which is it?",
          correctAnswer: "I-V-I",
          options: ["I-IV-I", "I-V-I", "IV-V-I"],
          audioPattern: ["C3", "E4", "G4", "C5", "G3", "B4", "D5", "G5", "C3", "E4", "G4", "C5"],
        },
        {
          id: "ex2-7-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize this bass line with 5/3 chords in the right hand: C-F-G-C",
          correctAnswer":
            "Play bass notes C-F-G-C with left hand, and complete triads (C-E-G, F-A-C, G-B-D, C-E-G) with right hand",
          hints": [
            "Keep your right hand in a comfortable position. Use smooth voice leading - move each voice to the nearest chord tone.",
          ],
        },
        {
          id: "ex2-8-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over this progression: I-IV-V-I",
          correctAnswer":
            "Improvise a melody using notes from each chord (C-E-G over I, F-A-C over IV, G-B-D over V, C-E-G over I)",
          hints": [
            "Start on C (scale degree 1), move stepwise when possible, and end on C. Use chord tones on strong beats.",
          ],
          bassPattern: "C3-F3-G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "Figured bass (basso continuo) was the universal notation system for baroque music, allowing keyboardists to improvise harmonies from a bass line with numbers. It was invented around 1600 and remained standard practice until 1800.",
    },
  },
  {
    id: "found-3-figured-bass-63",
    title: "First Inversion: 6/3",
    description: "Learn the 6/3 chord - first inversion triad",
    category: "foundations",
    tradition: "both",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-2-figured-bass-53"],
    xpReward: 15,
    content: {
      theory:
        "6/3 (or just 6) indicates first inversion. The bass has the 3rd of the chord. In C major, bass note 3 with 6 = E-G-C. The 6/3 chord is smoother and more melodic than 5/3, perfect for stepwise bass motion.",
      examples: [
        {
          id: "ex-1",
          description: "I6 chord (3 with 6)",
          notation: "Bass: 3, Figures: 6",
          audioPattern: ["E3", "G4", "C5"],
          figuredBass: "6",
        },
        {
          id: "ex-2",
          description: "V6 chord (7 with 6)",
          notation: "Bass: 7, Figures: 6",
          audioPattern: ["B3", "D5", "G5"],
          figuredBass: "6",
        },
        {
          id: "ex-3",
          description: "IV6 chord (6 with 6)",
          notation: "Bass: 6, Figures: 6",
          audioPattern: ["A3", "C5", "F5"],
          figuredBass: "6",
        },
      ],
      exercises: [
        {
          id: "ex3-1",
          type: "identify",
          prompt: "Which bass note creates a I6 chord?",
          correctAnswer: "3",
          options: ["1", "2", "3", "4", "5"],
        },
        {
          id: "ex3-2",
          type: "identify",
          prompt: "Listen to this chord. Is it in root position (5/3) or first inversion (6)?",
          correctAnswer: "First inversion (6)",
          options: ["Root position (5/3)", "First inversion (6)"],
          audioPattern: ["E3", "G4", "C5"],
        },
        {
          id: "ex3-3",
          type: "identify",
          prompt: "What intervals are above the bass in a 6/3 chord?",
          correctAnswer: "3rd and 6th",
          options: ["3rd and 5th", "3rd and 6th", "4th and 6th", "2nd and 6th"],
        },
        {
          id: "ex3-4",
          type: "identify",
          prompt: "Listen to this chord. Which bass note is it?",
          correctAnswer: "7",
          options: ["5", "6", "7", "1"],
          audioPattern: ["B3", "D5", "G5"],
        },
        {
          id: "ex3-5",
          type: "identify",
          prompt: "Why is 6/3 smoother than 5/3 for stepwise bass motion?",
          correctAnswer: "The bass moves by step, not leap",
          options: [
            "The bass moves by step, not leap",
            "It has more notes",
            "It's louder",
            "It's in a higher register",
          ],
        },
        {
          id: "ex3-6",
          type: "identify",
          prompt: "Listen to this progression. Which is it?",
          correctAnswer: "I-I6-V",
          options: ["I-IV-V", "I-I6-V", "I-V-I"],
          audioPattern: ["C3", "E4", "G4", "C5", "E3", "G4", "C5", "G3", "B4", "D5"],
        },
        {
          id: "ex3-7-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize this ascending bass line with 6/3 chords: C-D-E-F (figures: - 6 6 -)",
          correctAnswer": "Play bass C-D-E-F with left hand, right hand plays 6/3 chords: C-E-G, D-F-A, E-G-C, F-A-C",
          hints": [
            "The 6/3 chords create smooth stepwise motion. Keep the right hand close together, moving each voice by step when possible.",
          ],
        },
        {
          id: "ex3-8-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over this bass: C-D-E-F (I-ii6-I6-IV)",
          correctAnswer":
            "Improvise a melody using chord tones, emphasizing stepwise motion to match the smooth bass line",
          hints": [
            "Try starting on G (5), moving to F (over D), E (over E), then C or F (over F). Stepwise motion works beautifully with 6/3 chords.",
          ],
          bassPattern: "C3-D3-E3-F3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "First inversion chords (6/3) were essential for creating smooth, stepwise bass lines in baroque music. The Rule of the Octave uses 6/3 chords on scale degrees 2, 3, 6, and 7 ascending.",
    },
  },
  {
    id: "found-4-figured-bass-64",
    title: "Second Inversion: 6/4",
    description: "Learn the 6/4 chord - second inversion triad",
    category: "foundations",
    tradition: "both",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-3-figured-bass-63"],
    xpReward: 15,
    content: {
      theory:
        "6/4 indicates second inversion. The bass has the 5th of the chord. In C major, bass note 5 with 6/4 = G-C-E. The 6/4 is unstable and usually resolves to 5/3. The most important use is the cadential 6/4: I6/4 on a strong beat resolves to V on the next beat, creating a powerful cadence.",
      examples: [
        {
          id: "ex-1",
          description: "Cadential 6/4 (I6/4 resolving to V)",
          notation: "Bass: 5-5, Figures: 6/4-5/3",
          audioPattern: ["G3", "C5", "E5", "G3", "B4", "D5"],
          figuredBass: "6/4-5/3",
        },
        {
          id: "ex-2",
          description: "Passing 6/4 (between I and I6)",
          notation: "Bass: 1-2-3, Figures: 5/3-6/4-6",
          audioPattern: ["C3", "E4", "G4", "D3", "F4", "A4", "E3", "G4", "C5"],
          figuredBass: "5/3-6/4-6",
        },
        {
          id: "ex-3",
          description: "Pedal 6/4 (over sustained bass)",
          notation: "Bass: 1-1-1, Figures: 5/3-6/4-5/3",
          audioPattern: ["C3", "E4", "G4", "C3", "F4", "A4", "C3", "E4", "G4"],
          figuredBass: "5/3-6/4-5/3",
        },
      ],
      exercises: [
        {
          id: "ex4-1",
          type: "identify",
          prompt: "What intervals are above the bass in a 6/4 chord?",
          correctAnswer: "4th and 6th",
          options: ["3rd and 5th", "3rd and 6th", "4th and 6th", "2nd and 6th"],
        },
        {
          id: "ex4-2",
          type: "identify",
          prompt: "Listen to this cadential 6/4. What does it resolve to?",
          correctAnswer: "V (5/3)",
          options: ["I (5/3)", "V (5/3)", "IV (5/3)", "vi (5/3)"],
          audioPattern: ["G3", "C5", "E5", "G3", "B4", "D5"],
        },
        {
          id: "ex4-3",
          type: "identify",
          prompt: "Why is the 6/4 chord considered unstable?",
          correctAnswer: "The 4th above a bass was traditionally considered a dissonance",
          options: [
            "It has too many notes",
            "The 4th above a bass was traditionally considered a dissonance",
            "It's too high",
            "It's too quiet",
          ],
        },
        {
          id: "ex4-4",
          type: "identify",
          prompt: "In a cadential 6/4, which bass note is most common?",
          correctAnswer: "5 (dominant)",
          options: ["1 (tonic)", "4 (subdominant)", "5 (dominant)", "6 (submediant)"],
        },
        {
          id: "ex4-5",
          type: "identify",
          prompt: "Listen to this progression. Which type of 6/4 is it?",
          correctAnswer: "Passing 6/4",
          options: ["Cadential 6/4", "Passing 6/4", "Pedal 6/4"],
          audioPattern: ["C3", "E4", "G4", "D3", "F4", "A4", "E3", "G4", "C5"],
        },
        {
          id: "ex4-6",
          type: "identify",
          prompt: "In C major, bass note 5 with 6/4 creates which notes?",
          correctAnswer: "G-C-E",
          options: ["C-E-G", "E-G-C", "G-C-E", "G-B-D"],
        },
        {
          id: "ex4-7-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize a cadential 6/4: Bass G-G with figures 6/4-5/3. Then resolve to C.",
          correctAnswer":
            "Play bass G in bass twice, right hand plays C-E-G (6/4) then B-D-G (5/3), then resolve to C-E-G over bass C",
          hints": [
            "The 6/4 chord (C-E over bass G) resolves down by step: C‚ÜíB and E‚ÜíD, creating the V chord before final resolution to I.",
          ],
        },
        {
          id: "ex4-8-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic cadence using the cadential 6/4 pattern",
          correctAnswer":
            "Improvise a melody that emphasizes the resolution: use C or E over the first G (6/4), resolve to B or D over the second G (V), then end on C",
          hints": [
            "Try: E (over G 6/4) ‚Üí D (over G V) ‚Üí C (over C I). The stepwise descent creates a strong cadential feeling.",
          ],
          bassPattern: "G3-G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "The cadential 6/4 is one of the most important patterns in baroque music. It appears in virtually every piece and was one of the first patterns taught to students. The 6/4 chord's instability (due to the dissonant 4th above the bass) and need for resolution makes it perfect for creating strong cadences.",
    },
  },
  {
    id: "found-5-three-cadences",
    title: "The Three Partimenti Cadences",
    description: "Master Simple, Compound, and Double cadences (Neapolitan tradition)",
    category: "foundations",
    tradition: "italian",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-4-figured-bass-64"],
    xpReward: 20,
    content: {
      theory:
        "Cadences are classified by how long the dominant lasts. The THREE BASIC CADENCES are: (1) SIMPLE CADENCE (Cadenza Semplice): dominant lasts ONE BAR (4 beats) with a single sonority (5/3 or 7/3). (2) COMPOUND CADENCE (Cadenza Composta): dominant lasts TWO BARS (8 beats) with two sonorities, often including a 4-3 suspension. (3) DOUBLE CADENCE (Cadenza Doppia): dominant lasts FOUR BARS (16 beats) with four successive sonorities above V: 5/3 (or 7/3), 6/4, 5/4, and 5/3 (or 7/3). These cadences are the foundation of all baroque music and must be memorized in all keys.",
      examples: [
        {
          id: "ex-1",
          description: "Simple Cadence (Cadenza Semplice) - V lasts 1 bar (4 beats)",
          notation: "Bass: 5-1, Figures: 7/3-5/3 (or 5/3-5/3)",
          audioPattern: ["G3", "B4", "D5", "F5", "C3", "E4", "G4", "C5"],
          figuredBass: "7/3-5/3",
        },
        {
          id: "ex-2",
          description: "Compound Cadence (Cadenza Composta) - V lasts 2 bars (8 beats) with 4-3 suspension",
          notation: "Bass: 5-5-1, Figures: 5/4-5/3-5/3",
          audioPattern: ["G3", "C5", "D5", "G3", "B4", "D5", "C3", "E4", "G4", "C5"],
          figuredBass: "5/4-5/3-5/3",
        },
        {
          id: "ex-3",
          description: "Double Cadence (Cadenza Doppia) - V lasts 4 bars (16 beats) with four sonorities",
          notation: "Bass: 5-5-5-5-1, Figures: 5/3-6/4-5/4-5/3-5/3",
          audioPattern: [
            "G3",
            "B4",
            "D5",
            "G3",
            "C5",
            "E5",
            "G3",
            "C5",
            "D5",
            "G3",
            "B4",
            "D5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
          figuredBass: "5/3-6/4-5/4-5/3-5/3",
        },
        {
          id: "ex-4",
          description: "Double Cadence with I-V-I bass (alternative form)",
          notation: "Bass: 1-5-5-5-5-1, Figures: 5/3-5/3-6/4-5/4-7/3-5/3",
          audioPattern: [
            "C3",
            "E4",
            "G4",
            "G3",
            "B4",
            "D5",
            "G3",
            "C5",
            "E5",
            "G3",
            "C5",
            "D5",
            "G3",
            "B4",
            "D5",
            "F5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
          figuredBass: "5/3-5/3-6/4-5/4-7/3-5/3",
        },
      ],
      exercises: [
        {
          id: "ex5-1",
          type: "identify",
          prompt: "Listen to this cadence. How many bars does the dominant last?",
          correctAnswer: "1 bar (Simple Cadence)",
          options: ["1 bar (Simple Cadence)", "2 bars (Compound Cadence)", "4 bars (Double Cadence)"],
          audioPattern: ["G3", "B4", "D5", "F5", "C3", "E4", "G4", "C5"],
        },
        {
          id: "ex5-2",
          type: "identify",
          prompt: "Listen to this cadence. Which type is it?",
          correctAnswer: "Compound Cadence",
          options: ["Simple Cadence", "Compound Cadence", "Double Cadence"],
          audioPattern: ["G3", "C5", "D5", "G3", "B4", "D5", "C3", "E4", "G4", "C5"],
        },
        {
          id: "ex5-3",
          type: "identify",
          prompt: "Listen to this cadence. Which type is it?",
          correctAnswer: "Double Cadence",
          options: ["Simple Cadence", "Compound Cadence", "Double Cadence"],
          audioPattern: [
            "G3",
            "B4",
            "D5",
            "G3",
            "C5",
            "E5",
            "G3",
            "C5",
            "D5",
            "G3",
            "B4",
            "D5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
        },
        {
          id: "ex5-4",
          type: "identify",
          prompt: "In a Compound Cadence, what suspension is typically used?",
          correctAnswer: "4-3 suspension",
          options: ["2-3 suspension", "4-3 suspension", "7-6 suspension", "9-8 suspension"],
        },
        {
          id: "ex5-5",
          type: "identify",
          prompt: "In a Double Cadence, what are the four sonorities above the dominant?",
          correctAnswer: "5/3, 6/4, 5/4, 5/3",
          options: ["5/3, 6/3, 5/3, 5/3", "5/3, 6/4, 5/4, 5/3", "6/3, 6/4, 5/3, 5/3", "5/3, 5/3, 5/3, 5/3"],
        },
        {
          id: "ex5-6",
          type: "identify",
          prompt: "Which cadence is the most elaborate and takes the longest time?",
          correctAnswer: "Double Cadence (Cadenza Doppia)",
          options: [
            "Simple Cadence (Cadenza Semplice)",
            "Compound Cadence (Cadenza Composta)",
            "Double Cadence (Cadenza Doppia)",
          ],
        },
        {
          id: "ex5-7-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize a Simple Cadence in C major. Bass: G-C with figures 7/3-5/3. Play the dominant seventh (G-B-D-F) resolving to tonic (C-E-G-C).",
          correctAnswer": "Correct realization with proper voice leading: F‚ÜíE, D‚ÜíC, B‚ÜíC",
          hints": [
            "The seventh (F) must resolve down by step to E. Keep common tones where possible. The leading tone (B) resolves up to C.",
          ],
        },
        {
          id: "ex5-8-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize a Compound Cadence in C major. Bass: G-G-C with figures 5/4-5/3-5/3. The 4-3 suspension creates the compound effect.",
          correctAnswer": "Correct realization: G-C-D over first G, G-B-D over second G (C resolves to B), then C-E-G-C",
          hints": [
            "The C is prepared, suspended over the second G (creating the 4th), then resolved down to B (the 3rd). This is the characteristic 4-3 suspension of the Compound Cadence.",
          ],
        },
        {
          id: "ex5-9-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize a Double Cadence in C major. Bass: G-G-G-G-C with figures 5/3-6/4-5/4-7/3-5/3. This is the most elaborate cadence.",
          correctAnswer": "Correct realization with all four sonorities: G-B-D, G-C-E, G-C-D, G-B-D-F, then C-E-G-C",
          hints": [
            "Each sonority lasts one beat. The 6/4 (C-E over G) is the cadential 6/4 we learned earlier. It resolves through 5/4 (C-D) to 7/3 (B-D-F) before final resolution to I.",
          ],
        },
        {
          id: "ex5-10-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a melodic line over a Simple Cadence. The bass plays G (1 bar) then C (1 bar). Your melody should emphasize the resolution.",
          correctAnswer": "Melodic line using chord tones, emphasizing the resolution from V to I",
          hints": [
            "Try: D (over G) ‚Üí C (over C), or F (over G) ‚Üí E (over C). The stepwise descent creates a strong cadential feeling. You can also use B ‚Üí C for the leading tone resolution.",
          ],
          bassPattern: "G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
        {
          id: "ex5-11-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a melodic line over a Compound Cadence. The bass plays G (2 bars) then C (1 bar). Use the 4-3 suspension in your melody.",
          correctAnswer": "Melodic line featuring a 4-3 suspension (C‚ÜíB) over the dominant",
          hints": [
            "Try: C (over first G, held for 2 bars) ‚Üí B (over second G) ‚Üí C (over C). This creates the characteristic 4-3 suspension of the Compound Cadence. The C is prepared, suspended, then resolved down to B.",
          ],
          bassPattern: "G3-G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
        {
          id: "ex5-12-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a melodic line over a Double Cadence. The bass plays G (4 bars) then C (1 bar). Your melody should elaborate the four sonorities.",
          correctAnswer": "Melodic line that follows the four sonorities: 5/3, 6/4, 5/4, 7/3, then resolves to I",
          hints": [
            "Try: D (bar 1) ‚Üí E (bar 2) ‚Üí D (bar 3) ‚Üí D or F (bar 4) ‚Üí C (final). This follows the harmonic progression while creating a melodic line. You can also try: B ‚Üí C ‚Üí B ‚Üí B ‚Üí C for a simpler approach.",
          ],
          bassPattern: "G3-G3-G3-G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "These three cadences are the foundation of Neapolitan pedagogy. Fenaroli wrote: 'Before attempting any partimento, the student must know the three cadences perfectly in all keys.' The Simple, Compound, and Double cadences appear in every baroque composition and were the first patterns memorized by students at the conservatories. The Double Cadence (Cadenza Doppia) is particularly important as it combines elements from both Simple and Compound cadences, creating the most elaborate and satisfying resolution in baroque music.",
    },
  },
  {
    id: "found-6-rule-octave-asc-1",
    title: "Rule of the Octave - Ascending (1-4)",
    description: "Learn degrees 1-4 ascending with proper harmonization",
    category: "foundations",
    tradition: "italian",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-5-three-cadences"],
    xpReward: 25,
    content: {
      theory:
        "The Rule of the Octave is THE fundamental pattern of baroque harmony - every student must memorize it in all keys. We'll learn it progressively: STAGE 1: Start with ALL parallel 6/3 chords (simplest). STAGE 2: Add 5/3 on scale degrees 1 and 5 (tonic and dominant). STAGE 3: Full Rule. Ascending 1-4: 1(5/3), 2(6/3), 3(6/3), 4(5/3 or 6/3). The bass moves stepwise, and the 6/3 chords create smooth voice leading.",
      examples: [
        {
          id: "ex-1",
          description: "Stage 1: All parallel 6/3 chords (C-D-E-F)",
          notation: "Bass: 1-2-3-4 (C-D-E-F), Figures: 6-6-6-6",
          audioPattern: ["C3", "E4", "G4", "D3", "F4", "A4", "E3", "G4", "C5", "F3", "A4", "C5"],
          figuredBass: "6-6-6-6",
        },
        {
          id: "ex-2",
          description: "Stage 2: Add 5/3 on scale degree 1 (C-D-E-F)",
          notation: "Bass: 1-2-3-4 (C-D-E-F), Figures: 5/3-6-6-6",
          audioPattern: ["C3", "E4", "G4", "C5", "D3", "F4", "A4", "E3", "G4", "C5", "F3", "A4", "C5"],
          figuredBass: "5/3-6-6-6",
        },
        {
          id: "ex-3",
          description: "Stage 3: Full Rule ascending 1-4 (C-D-E-F)",
          notation: "Bass: 1-2-3-4 (C-D-E-F), Figures: 5/3-6-6-5/3",
          audioPattern: ["C3", "E4", "G4", "C5", "D3", "F4", "A4", "E3", "G4", "C5", "F3", "A4", "C5", "F5"],
          figuredBass: "5/3-6-6-5/3",
        },
      ],
      exercises: [
        {
          id: "ex6-1",
          type: "identify",
          prompt: "Listen to this ascending bass (C-D-E-F). Which stage is it?",
          correctAnswer: "Stage 1: All parallel 6/3",
          options: ["Stage 1: All parallel 6/3", "Stage 2: 5/3 on 1", "Stage 3: Full Rule"],
          audioPattern: ["C3", "E4", "G4", "D3", "F4", "A4", "E3", "G4", "C5", "F3", "A4", "C5"],
        },
        {
          id: "ex6-2",
          type: "identify",
          prompt: "In the full Rule, which scale degrees get 5/3 chords in the ascending 1-4 pattern?",
          correctAnswer: "1 and 4",
          options: ["1 and 2", "1 and 4", "2 and 3", "All of them"],
        },
        {
          id: "ex6-3",
          type: "identify",
          prompt: "Why do we start with all parallel 6/3 chords?",
          correctAnswer: "It's the simplest and creates smooth voice leading",
          options: [
            "It's the simplest and creates smooth voice leading",
            "It sounds better",
            "It's louder",
            "It's traditional",
          ],
        },
        {
          id: "ex6-4",
          type: "identify",
          prompt: "Listen to this progression. Is it Stage 1, 2, or 3?",
          correctAnswer: "Stage 3: Full Rule",
          options: ["Stage 1: All parallel 6/3", "Stage 2: 5/3 on 1", "Stage 3: Full Rule"],
          audioPattern: ["C3", "E4", "G4", "C5", "D3", "F4", "A4", "E3", "G4", "C5", "F3", "A4", "C5", "F5"],
        },
        {
          id: "ex6-5-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play Stage 1 (all parallel 6/3) ascending C-D-E-F",
          correctAnswer": "Bass C-D-E-F, right hand plays 6/3 chords: C-E-G, D-F-A, E-G-C, F-A-C",
          hints": [
            "Keep the right hand close together. Each chord is a 6/3 inversion. Move each voice by step when possible.",
          ],
        },
        {
          id: "ex6-6-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play Stage 3 (Full Rule) ascending C-D-E-F with figures 5/3-6-6-5/3",
          correctAnswer": "Bass C-D-E-F, right hand: C-E-G-C (5/3), D-F-A (6), E-G-C (6), F-A-C-F (5/3)",
          hints": [
            "Start with root position on C (5/3), then 6/3 on D and E, then root position on F (5/3). Smooth voice leading throughout.",
          ],
        },
        {
          id: "ex6-7-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over ascending bass C-D-E-F (Stage 3: Full Rule)",
          correctAnswer": "Melodic line using chord tones, emphasizing stepwise motion",
          hints": [
            "Try starting on C and ascending to the octave C, using chord tones on each bass note. Or create a more elaborate line with passing tones and neighbor notes.",
          ],
          bassPattern: "C3-D3-E3-F3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "First codified by Fran√ßois Campion (1716), the Rule of the Octave became the foundation of all baroque keyboard training. Every student memorized this pattern in all keys. The progressive approach (starting with parallel 6/3 chords) is pedagogically sound, allowing students to build complexity gradually.",
    },
  },
  {
    id: "found-7-rule-octave-asc-2",
    title: "Rule of the Octave - Ascending (5-8)",
    description: "Complete the ascending Rule with degrees 5-8",
    category: "foundations",
    tradition: "italian",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-6-rule-octave-asc-1"],
    xpReward: 25,
    content: {
      theory:
        "Ascending continued: 5(5/3), 6(6/3 or 5/3), 7(6/3 or 6/5/3), 8(5/3). The dominant (5) and tonic (8) are ALWAYS 5/3 (root position). Scale degree 6 can be either 6/3 or 5/3 depending on context. Scale degree 7 (leading tone) is typically 6/3, but can be 6/5/3 (diminished seventh) for more tension. Now you know the complete ascending Rule of the Octave!",
      examples: [
        {
          id: "ex-1",
          description: "Full ascending Rule (C-D-E-F-G-A-B-C)",
          notation: "Bass: 1-2-3-4-5-6-7-8, Figures: 5/3-6-6-5/3-5/3-6-6-5/3",
          audioPattern: [
            "C3",
            "E4",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "E3",
            "G4",
            "C5",
            "F3",
            "A4",
            "C5",
            "F5",
            "G3",
            "B4",
            "D5",
            "G5",
            "A3",
            "C5",
            "E5",
            "B3",
            "D5",
            "F5",
            "C4",
            "E5",
            "G5",
            "C6",
          ],
          figuredBass: "5/3-6-6-5/3-5/3-6-6-5/3",
        },
        {
          id: "ex-2",
          description: "Ascending 5-8 with alternative 6 (G-A-B-C)",
          notation: "Bass: 5-6-7-8, Figures: 5/3-5/3-6-5/3",
          audioPattern: ["G3", "B4", "D5", "G5", "A3", "C5", "E5", "A5", "B3", "D5", "F5", "C4", "E5", "G5", "C6"],
          figuredBass: "5/3-5/3-6-5/3",
        },
        {
          id: "ex-3",
          description: "Ascending 5-8 with diminished seventh on 7 (G-A-B-C)",
          notation: "Bass: 5-6-7-8, Figures: 5/3-6-6/5/3-5/3",
          audioPattern: ["G3", "B4", "D5", "G5", "A3", "C5", "E5", "B3", "D5", "F5", "Ab5", "C4", "E5", "G5", "C6"],
          figuredBass: "5/3-6-6/5/3-5/3",
        },
      ],
      exercises: [
        {
          id: "ex7-1",
          type: "identify",
          prompt: "Which scale degrees ALWAYS get 5/3 chords in the ascending Rule?",
          correctAnswer: "1, 5, and 8",
          options: ["1, 4, and 5", "1, 5, and 8", "All of them", "None of them"],
        },
        {
          id: "ex7-2",
          type: "identify",
          prompt: "Listen to the complete ascending Rule. How many 5/3 chords are there?",
          correctAnswer: "4 (on 1, 4, 5, 8)",
          options: ["2", "3", "4 (on 1, 4, 5, 8)", "5"],
          audioPattern: [
            "C3",
            "E4",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "E3",
            "G4",
            "C5",
            "F3",
            "A4",
            "C5",
            "F5",
            "G3",
            "B4",
            "D5",
            "G5",
            "A3",
            "C5",
            "E5",
            "B3",
            "D5",
            "F5",
            "C4",
            "E5",
            "G5",
            "C6",
          ],
        },
        {
          id: "ex7-3",
          type: "identify",
          prompt: "What is the alternative figure for scale degree 6?",
          correctAnswer: "5/3 (instead of 6)",
          options: ["6/4", "5/3 (instead of 6)", "7", "4/3"],
        },
        {
          id: "ex7-4",
          type: "identify",
          prompt: "What does 6/5/3 on scale degree 7 create?",
          correctAnswer: "Diminished seventh chord",
          options: ["Major seventh", "Diminished seventh chord", "Augmented sixth", "Dominant seventh"],
        },
        {
          id: "ex7-5-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play the complete ascending Rule of the Octave in C major (C-D-E-F-G-A-B-C)",
          correctAnswer": "Correct realization with proper figures: 5/3-6-6-5/3-5/3-6-6-5/3",
          hints": [
            "Remember: 5/3 on 1, 4, 5, 8. All others are 6/3. Keep smooth voice leading throughout. This is the most important pattern in baroque music!",
          ],
        },
        {
          id: "ex7-6-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play ascending 5-8 (G-A-B-C) with the alternative 5/3 on scale degree 6",
          correctAnswer": "Bass G-A-B-C, figures 5/3-5/3-6-5/3",
          hints": [
            "Both G and A get root position (5/3) chords. This creates a stronger harmonic progression than using 6/3 on A.",
          ],
        },
        {
          id: "ex7-7-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over the complete ascending Rule (C-D-E-F-G-A-B-C)",
          correctAnswer": "Melodic line following the harmonic progression, emphasizing stepwise motion",
          hints": [
            "Try starting on C and ascending to the octave C, using chord tones on each bass note. Or create a more elaborate line with passing tones and neighbor notes.",
          ],
          bassPattern: "C3-D3-E3-F3-G3-A3-B3-C4",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "The complete ascending Rule of the Octave was memorized by every baroque musician. It appears in thousands of compositions and was the foundation for improvisation. The progressive approach emphasizes mastering the simple version first, then adding nuances gradually.",
    },
  },
  {
    id: "found-8-rule-octave-desc",
    title: "Rule of the Octave - Descending",
    description: "Learn the descending Rule with different harmonizations",
    category: "foundations",
    tradition: "italian",
    difficulty: "beginner",
    level: 1,
    prerequisites: ["found-7-rule-octave-asc-2"],
    xpReward: 30,
    content: {
      theory:
        "Descending: 8(5/3), 7(6/3), 6(6/3), 5(5/3), 4(6/3), 3(6/3), 2(7/5/3 or 6/5), 1(5/3). IMPORTANT: Scale degree 2 descending uses 7/5/3 (dominant seventh chord), different from ascending! This creates stronger harmonic motion toward the tonic. The descending Rule has more 6/3 chords than the ascending, creating smooth stepwise voice leading. You must memorize BOTH ascending and descending Rules in ALL keys.",
      examples: [
        {
          id: "ex-1",
          description: "Full descending Rule (C-B-A-G-F-E-D-C)",
          notation: "Bass: 8-7-6-5-4-3-2-1, Figures: 5/3-6-6-5/3-6-6-7/5/3-5/3",
          audioPattern: [
            "C4",
            "E5",
            "G5",
            "C6",
            "B3",
            "D5",
            "F5",
            "A3",
            "C5",
            "E5",
            "G3",
            "B4",
            "D5",
            "G5",
            "F3",
            "A4",
            "C5",
            "E3",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "C5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
          figuredBass: "5/3-6-6-5/3-6-6-7/5/3-5/3",
        },
        {
          id: "ex-2",
          description: "Descending with alternative 6/5 on scale degree 2 (C-B-A-G-F-E-D-C)",
          notation: "Bass: 8-7-6-5-4-3-2-1, Figures: 5/3-6-6-5/3-6-6-6/5-5/3",
          audioPattern: [
            "C4",
            "E5",
            "G5",
            "C6",
            "B3",
            "D5",
            "F5",
            "A3",
            "C5",
            "E5",
            "G3",
            "B4",
            "D5",
            "G5",
            "F3",
            "A4",
            "C5",
            "E3",
            "G4",
            "C5",
            "D3",
            "F4",
            "B4",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
          figuredBass: "5/3-6-6-5/3-6-6-6/5-5/3",
        },
        {
          id: "ex-3",
          description: "Descending 5-1 (G-F-E-D-C)",
          notation: "Bass: 5-4-3-2-1, Figures: 5/3-6-6-7/5/3-5/3",
          audioPattern: [
            "G3",
            "B4",
            "D5",
            "G5",
            "F3",
            "A4",
            "C5",
            "E3",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "C5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
          figuredBass: "5/3-6-6-7/5/3-5/3",
        },
      ],
      exercises: [
        {
          id: "ex8-1",
          type: "identify",
          prompt: "What is the KEY DIFFERENCE between ascending and descending on scale degree 2?",
          correctAnswer: "Descending uses 7/5/3 (dominant seventh), ascending uses 6",
          options: [
            "Descending uses 7/5/3 (dominant seventh), ascending uses 6",
            "They're the same",
            "Descending uses 6/4",
            "Descending uses 5/3",
          ],
        },
        {
          id: "ex8-2",
          type: "identify",
          prompt: "Listen to this descending Rule. How many 5/3 chords are there?",
          correctAnswer: "3 (on 8, 5, 1)",
          options: ["2", "3 (on 8, 5, 1)", "4", "5"],
          audioPattern: [
            "C4",
            "E5",
            "G5",
            "C6",
            "B3",
            "D5",
            "F5",
            "A3",
            "C5",
            "E5",
            "G3",
            "B4",
            "D5",
            "G5",
            "F3",
            "A4",
            "C5",
            "E3",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "C5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
        },
        {
          id: "ex8-3",
          type: "identify",
          prompt: "Why does scale degree 2 descending use 7/5/3?",
          correctAnswer: "It creates stronger harmonic motion toward the tonic (V7-I)",
          options: [
            "It sounds better",
            "It creates stronger harmonic motion toward the tonic (V7-I)",
            "It's easier to play",
            "It's traditional",
          ],
        },
        {
          id: "ex8-4",
          type: "identify",
          prompt: "Which scale degrees get 6/3 chords in the descending Rule?",
          correctAnswer: "7, 6, 4, 3",
          options: ["All of them", "7, 6, 4, 3", "2, 3, 4", "None of them"],
        },
        {
          id: "ex8-5",
          type: "identify",
          prompt: "Listen to this progression. Is it ascending or descending?",
          correctAnswer: "Descending",
          options: ["Ascending", "Descending"],
          audioPattern: [
            "C4",
            "E5",
            "G5",
            "C6",
            "B3",
            "D5",
            "F5",
            "A3",
            "C5",
            "E5",
            "G3",
            "B4",
            "D5",
            "G5",
            "F3",
            "A4",
            "C5",
            "E3",
            "G4",
            "C5",
            "D3",
            "F4",
            "A4",
            "C5",
            "C3",
            "E4",
            "G4",
            "C5",
          ],
        },
        {
          id: "ex8-6-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play the complete descending Rule of the Octave in C major (C-B-A-G-F-E-D-C)",
          correctAnswer": "Correct realization with proper figures: 5/3-6-6-5/3-6-6-7/5/3-5/3",
          hints": [
            "Remember: 5/3 on 8, 5, 1. Scale degree 2 gets 7/5/3 (dominant seventh). All others are 6/3. The dominant seventh on 2 creates a strong pull to the tonic.",
          ],
        },
        {
          id: "ex8-7-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play descending 5-1 (G-F-E-D-C) emphasizing the V7-I cadence",
          correctAnswer": "Bass G-F-E-D-C, figures 5/3-6-6-7/5/3-5/3",
          hints": [
            "The 7/5/3 on D (scale degree 2) is a dominant seventh chord (D-F-A-C) that resolves strongly to the tonic C. This is the foundation of all baroque cadences.",
          ],
        },
        {
          id: "ex8-8-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over the complete descending Rule (C-B-A-G-F-E-D-C)",
          correctAnswer": "Melodic line following the harmonic progression, emphasizing the descent",
          hints": [
            "Try starting on C and descending to the lower C, using chord tones. Or create a more elaborate line that moves contrary to the bass (ascending while the bass descends).",
          ],
          bassPattern: "C4-B3-A3-G3-F3-E3-D3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
        {
          id: "ex8-9-keyboard",
          type: "play",
          prompt": "KEYBOARD: Play BOTH ascending and descending Rules back-to-back (C up to C, then C down to C)",
          correctAnswer": "Complete ascending then descending Rule with proper figures",
          hints": [
            "This is the ultimate test! Ascending: 5/3-6-6-5/3-5/3-6-6-5/3. Descending: 5/3-6-6-5/3-6-6-7/5/3-5/3. Practice this in all keys until it's automatic.",
          ],
        },
      ],
      historicalContext:
        "The descending Rule of the Octave completes your foundation in baroque harmony. Fenaroli wrote: 'The student who knows the Rule of the Octave in all keys, ascending and descending, possesses the key to all harmony.' This pattern appears in virtually every baroque composition and was the foundation for improvisation. The use of 7/5/3 on scale degree 2 descending (creating V7-I) is one of the most important harmonic progressions in all of Western music. Daily practice of the Rule in all keys is the foundation of improvisational fluency.",
    },
  },

  // ============================================
  // LEVEL 2: BASIC PATTERNS (Elementary)
  // ============================================
  {
    id: "basic-1-simple-suspensions",
    title: "Simple Suspensions: 4-3",
    description: "Learn the most common suspension pattern",
    category: "patterns",
    tradition: "both",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["found-8-rule-octave-desc"],
    xpReward: 30,
    content: {
      theory:
        "A suspension is a dissonance created by DELAYING the resolution of a note. The 4-3 suspension is the most common and important suspension in baroque music. THREE STAGES: (1) PREPARATION: The 4th appears as a consonance in the previous chord. (2) SUSPENSION: The bass moves, but the upper voice HOLDS the same note, creating a dissonant 4th above the new bass. (3) RESOLUTION: The suspended note resolves DOWN BY STEP to the 3rd. The 4-3 suspension creates tension and release, making cadences more expressive. It appears in the Compound Cadence and throughout baroque music. RULE: The suspended note must be TIED or held from the previous beat - it cannot be re-struck.",
      examples: [
        {
          id: "ex-1",
          description: "Simple 4-3 suspension over V-I (G-C)",
          notation: "Bass: G-C, Upper voice: C (held) - B, Figures: 4-3",
          audioPattern: ["G3", "C5", "D5", "C3", "B4", "E5"],
          figuredBass: "4-3",
        },
        {
          id: "ex-2",
          description: "4-3 suspension in Compound Cadence",
          notation: "Bass: G-G-C, Figures: 5/4-5/3-5/3",
          audioPattern: ["G3", "C5", "D5", "G3", "B4", "D5", "C3", "E4", "G4", "C5"],
          figuredBass: "5/4-5/3-5/3",
        },
        {
          id: "ex-3",
          description: "Chain of 4-3 suspensions (sequence)",
          notation: "Bass: C-D-E-F, Figures: 5/3-4/3-4/3-5/3",
          audioPattern: ["C3", "E4", "G4", "C5", "D3", "G4", "A4", "E3", "A4", "B4", "F3", "A4", "C5", "F5"],
          figuredBass: "5/3-4/3-4/3-5/3",
        },
        {
          id: "ex-4",
          description: "4-3 suspension with seventh (9-8 4-3)",
          notation: "Bass: F-G-C, Figures: 9-8 4-3 5/3",
          audioPattern: ["F3", "D5", "C5", "G3", "C5", "B4", "C3", "E4", "G4", "C5"],
          figuredBass: "9-8 4-3 5/3",
        },
      ],
      exercises: [
        {
          id: "ex-susp-1",
          type: "identify",
          prompt: "Listen to this suspension. Which type is it?",
          correctAnswer: "4-3 suspension",
          options: ["4-3 suspension", "7-6 suspension", "9-8 suspension", "2-3 suspension"],
          audioPattern: ["G3", "C5", "D5", "C3", "B4", "E5"],
        },
        {
          id: "ex-susp-2",
          type: "identify",
          prompt: "In a 4-3 suspension, which direction does the suspended note resolve?",
          correctAnswer: "Down by step",
          options: ["Down by step", "Up by step", "Down by leap", "Up by leap"],
        },
        {
          id: "ex-susp-3",
          type: "identify",
          prompt: "What are the THREE stages of a suspension?",
          correctAnswer: "Preparation, Suspension, Resolution",
          options: [
            "Preparation, Suspension, Resolution",
            "Attack, Sustain, Release",
            "Beginning, Middle, End",
            "Consonance, Dissonance, Consonance",
          ],
        },
        {
          id: "ex-susp-4",
          type: "identify",
          prompt: "Listen to this progression. How many 4-3 suspensions are there?",
          correctAnswer: "2 suspensions",
          options: ["1 suspension", "2 suspensions", "3 suspensions", "No suspensions"],
          audioPattern: ["C3", "E4", "G4", "C5", "D3", "G4", "A4", "E3", "A4", "B4", "F3", "A4", "C5", "F5"],
        },
        {
          id: "ex-susp-5",
          type: "identify",
          prompt: "Why must the suspended note be TIED or held (not re-struck)?",
          correctAnswer: "Re-striking would destroy the suspension effect",
          options: [
            "Re-striking would destroy the suspension effect",
            "It's easier to play",
            "It sounds better",
            "It's traditional",
          ],
        },
        {
          id: "ex-susp-6",
          type: "identify",
          prompt: "In which cadence did we already encounter the 4-3 suspension?",
          correctAnswer: "Compound Cadence",
          options: ["Simple Cadence", "Compound Cadence", "Double Cadence", "Deceptive Cadence"],
        },
        {
          id: "ex-susp-7-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize a 4-3 suspension over G-C. Bass: G-C, right hand: prepare C over G, suspend it (creating 4th), then resolve to B (3rd).",
          correctAnswer": "Correct realization: G-C-D over first G, then C-B-E over C (C is held/tied from previous chord)",
          hints": [
            "The C in the right hand must be HELD from the first chord (preparation) through the second chord (suspension), then resolve down to B (resolution). Don't re-strike the C!",
          ],
        },
        {
          id: "ex-susp-8-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize a Compound Cadence with 4-3 suspension. Bass: G-G-C with figures 5/4-5/3-5/3.",
          correctAnswer": "Correct realization: G-C-D over first G, G-B-D over second G (C resolves to B), then C-E-G-C",
          hints": [
            "This is the Compound Cadence you learned earlier! The C is prepared, suspended over the second G (creating the 4th), then resolves to B (the 3rd).",
          ],
        },
        {
          id: "ex-susp-9-keyboard",
          type: "play",
          prompt": "KEYBOARD: Create a chain of 4-3 suspensions. Bass: C-D-E-F with figures 5/3-4/3-4/3-5/3.",
          correctAnswer": "Correct realization with each suspension prepared, suspended, and resolved in sequence",
          hints": [
            "Each 4-3 suspension prepares the next one. Over C: C-E-G. Over D: G (held from C) resolves to F#, creating D-F#-A. Over E: A (held) resolves to G#, creating E-G#-B. Over F: B (held) resolves to A, creating F-A-C.",
          ],
        },
        {
          id: "ex-susp-10-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a melodic line over a 4-3 suspension. Bass: G-C. Emphasize the suspension and resolution.",
          correctAnswer": "Melodic line that features the 4-3 suspension (C held over G, resolving to B over C)",
          hints": [
            "Try: C (over first G, held for 2 beats) ‚Üí B (over C). This creates the characteristic 4-3 suspension. You can embellish with passing tones, but the C‚ÜíB resolution should be clear.",
          ],
          bassPattern: "G3-C3",
          beatsPerNote: 4,
          tempo: 80,
        },
        {
          id: "ex-susp-11-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a melodic line over a chain of suspensions. Bass: C-D-E-F. Use the 4-3 pattern throughout.",
          correctAnswer": "Melodic line featuring multiple 4-3 suspensions in sequence",
          hints": [
            "Try: G (over C) ‚Üí F# (over D) ‚Üí G# (over E) ‚Üí A (over F). Each note is held from the previous chord and resolves down by step, creating a chain of suspensions.",
          ],
          bassPattern: "C3-D3-E3-F3",
          beatsPerNote: 4,
          tempo: 80,
        },
      ],
      historicalContext:
        "The 4-3 suspension is the foundation of baroque counterpoint and appears in virtually every composition. It was one of the first dissonances taught to students because it follows clear rules: prepare, suspend, resolve. Fenaroli wrote: 'The student must master the 4-3 suspension before attempting any other dissonance.' The suspension creates expressive tension and was used extensively in opera, sacred music, and instrumental works. Chains of suspensions (as in Example 3) create beautiful sequential passages that appear throughout baroque music. The 4-3 suspension is also the basis for more complex suspensions like 9-8 and 7-6, which you'll learn later.",
    },
  },
  {
    id: "basic-2-romanesca",
    title: "Galant Schema: Romanesca",
    description: "Learn the descending tetrachord pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["basic-1-simple-suspensions"],
    xpReward: 35,
    content: {
      theory:
        "The ROMANESCA is one of the oldest and most beloved patterns in Western music, appearing in countless songs, dances, and instrumental works from the Renaissance through the Baroque era. The bass descends by step: 1-7-6-5 (in C major: C-B-A-G). Above this descending bass, the upper voices create a series of consonances that give the Romanesca its characteristic sound. The standard harmonization uses: I - V6 - vi - III (or V/vi). This pattern was so common that composers could assume their audience would recognize it immediately. You'll hear it in Corelli's sonatas, Handel's arias, and countless dance movements. The beauty of the Romanesca lies in its flexibility - it can be tender and lyrical, or bold and dramatic, depending on the melodic elaboration above the bass.",
      examples: [
        {
          id: "rom-ex-1",
          title: "Basic Romanesca Bass Pattern",
          description: "The fundamental descending bass: 1-7-6-5 (C-B-A-G). Listen to the stepwise descent.",
          notation: "Bass: C - B - A - G",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["C3", "B2", "A2", "G2"],
        },
        {
          id: "rom-ex-2",
          title: "Romanesca with Block Chords",
          description: "Now hear the bass with chords above: I (C-E-G), V6 (B-D-G), vi (A-C-E), III (G-B-E)",
          notation: "Bass: C - B - A - G | Chords: I - V6 - vi - III",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[B2,B3,D4,G4]", "[A2,A3,C4,E4]", "[G2,G3,B3,E4]"],
        },
        {
          id: "rom-ex-3",
          title: "Romanesca with Flowing Soprano (Diminutions)",
          description":
            "A flowing soprano line with passing notes and neighbor notes creates musical interest. Bar 1: G-E-F-G (F is a passing note), Bar 2: G-A-B-G (A is a passing note), Bar 3: A-C-B-C (B is a lower neighbor), Bar 4: B-E-D-E (D is a lower neighbor)",
          notation": "Bass: C - B - A - G | Soprano: G E F G - G A B G - A C B C - B E D E",
          figuredBass": "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern": [
            "[C3,C4,E4,G4]",
            "E4",
            "F4",
            "G4",
            "[B2,B3,D4,G4]",
            "A4",
            "B4",
            "G4",
            "[A2,A3,C4,A4]",
            "C5",
            "B4",
            "C5",
            "[G2,G3,B3,B4]",
            "E4",
            "D4",
            "E4",
          ],
        },
        {
          id: "rom-ex-4",
          title: "Extended Romanesca (Complete Octave Descent)",
          description": "The pattern continues all the way down: 1-7-6-5-4-3-2-1, creating a complete descending scale",
          notation": "Bass: C - B - A - G - F - E - D - C",
          figuredBass": "5/3 - 6/3 - 5/3 - 5/3 - 6/3 - 5/3 - 7/5/3 - 5/3",
          audioPattern": [
            "[C3,C4,E4,G4]",
            "[B2,B3,D4,G4]",
            "[A2,A3,C4,E4]",
            "[G2,G3,B3,D4]",
            "[F2,F3,A3,C4]",
            "[E2,E3,G3,C4]",
            "[D2,D3,F3,B3]",
            "[C2,C3,E3,G3]",
          ],
        },
      ],

      exercises: [
        {
          id: "rom-1",
          type: "identify",
          prompt: "What is the defining characteristic of the Romanesca bass pattern?",
          options: [
            "Ascending stepwise motion",
            "Descending stepwise motion from 1 to 5",
            "Leaping motion by fourths",
            "Repeated notes",
          ],
          correctAnswer: "Descending stepwise motion from 1 to 5",
          hints: ["Think about the direction of the bass line", "The Romanesca descends: 1-7-6-5"],
        },
        {
          id: "rom-2",
          type: "identify",
          prompt: "In C major, which notes form the Romanesca bass?",
          options: ["C-D-E-F", "C-B-A-G", "C-G-F-C", "C-E-G-C"],
          correctAnswer: "C-B-A-G",
          hints: ["The pattern descends by step", "Start on C (1) and descend to G (5)"],
        },
        {
          id: "rom-3",
          type: "identify",
          prompt: "What figured bass symbol typically appears over the second note (7) of the Romanesca?",
          options: ["5/3", "6/3", "6/4", "7/5/3"],
          correctAnswer: "6/3",
          hints: ["The second bass note (7) usually takes a first inversion chord", "First inversion is indicated by 6/3"],
        },
        {
          id: "rom-4",
          type: "identify",
          prompt: "Which famous baroque composers frequently used the Romanesca pattern?",
          options: [
            "Only Italian composers",
            "Corelli, Handel, and many others across Europe",
            "Only keyboard composers",
            "It was rarely used",
          ],
          correctAnswer: "Corelli, Handel, and many others across Europe",
          hints: ["The Romanesca was one of the most popular patterns", "It appears in sonatas, arias, and dance movements throughout Europe"],
        },
        {
          id: "rom-5",
          type: "identify",
          prompt: "How can the Romanesca pattern be extended beyond 1-7-6-5?",
          options: [
            "It cannot be extended",
            "Continue descending: 4-3-2-1",
            "Jump back to the beginning",
            "Ascend back up",
          ],
          correctAnswer: "Continue descending: 4-3-2-1",
          hints: ["The descending pattern can continue all the way to the tonic", "This creates a complete octave descent: 1-7-6-5-4-3-2-1"],
        },
        {
          id: "rom-6",
          type: "identify",
          prompt: "What emotional character does the Romanesca typically convey?",
          options: [
            "Always sad and mournful",
            "Always bright and cheerful",
            "Flexible - can be tender, lyrical, bold, or dramatic depending on elaboration",
            "Neutral and emotionless",
          ],
          correctAnswer: "Flexible - can be tender, lyrical, bold, or dramatic depending on elaboration",
          hints: ["The Romanesca's character depends on how it's elaborated", "The same bass pattern can support many different moods"],
        },
        {
          id: "rom-7-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Romanesca in C major. Bass: C-B-A-G. Use the harmonization: I (5/3) - V6/3 (6/3) - vi (5/3) - III (5/3).",
          correctAnswer": "C E G, B D G, A C E, G B E (or similar voicings with these triads)",
          hints": [
            "C bass (I): play C-E-G triad",
            "B bass (V6/3): play B-D-G (first inversion of G major)",
            "A bass (vi): play A-C-E (A minor triad)",
            "G bass (III): play G-B-E (E major triad, or G-B-D for V)",
          ],
        },
        {
          id: "rom-8-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Romanesca in G major. Bass: G-F#-E-D. Write the notes you would play in the right hand.",
          correctAnswer": "G B D, F# A D, E G B, D F# B (or similar voicings)",
          hints": [
            "Follow the same harmonic pattern as in C major",
            "G bass (I): G-B-D triad",
            "F# bass (V6/3): F#-A-D (first inversion of D major)",
            "E bass (vi): E-G-B (E minor triad)",
          ],
        },
        {
          id: "rom-9-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a flowing melodic line over the Romanesca bass in C major. The bass plays C (1 bar), B (1 bar), A (1 bar), G (1 bar). Your melody should be lyrical and singable, using mostly stepwise motion with occasional leaps. Think of it as a song melody.",
          bassPattern: "C3-B2-A2-G2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "Any melodic line that fits the harmony and moves gracefully",
          hints": [
            "Start on a chord tone (C, E, or G) and create a flowing line",
            "Use mostly stepwise motion for a singable melody",
            "Think of famous songs - many use this pattern!",
            "Your melody can descend with the bass or create contrary motion",
          ],
        },
        {
          id: "rom-10-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a more elaborate melodic variation over the Romanesca. Use faster note values, ornaments, and more dramatic leaps. Think of a virtuoso instrumental solo.",
          bassPattern: "C3-B2-A2-G2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "Any elaborate melodic line with ornaments and virtuosic elements",
          hints": [
            "Use faster rhythms - eighth notes or sixteenth notes",
            "Add ornaments like trills or turns",
            "Include some dramatic leaps for excitement",
            "Think of Corelli's violin sonatas or Handel's arias",
          ],
        },
        {
          id: "rom-11-composition",
          type: "play",
          prompt":
            "COMPOSITION: Create a complete 8-bar phrase using the extended Romanesca (1-7-6-5-4-3-2-1). This is your chance to compose a real piece! Make it musical and expressive.",
          bassPattern: "C3-B2-A2-G2-F2-E2-D2-C2",
          beatsPerNote: 4,
          tempo: 80,\
          correctAnswer": "Any complete musical phrase that works with the extended Romanesca",
          hints": [
            "Think of this as composing a real piece of music",
            "Create a melody that has a clear shape - perhaps rising then falling",
            "Consider dynamics and expression - where should it be loud or soft?",
            "End with a strong cadence on the final C",
            "Listen to baroque music for inspiration - this pattern is everywhere!",
          ],\
        },
      ],
      historicalContext:
        "The Romanesca appears in countless baroque compositions. Corelli used it in his violin sonatas, Handel in his arias and instrumental works, and it was a favorite of dance composers throughout Europe. The pattern was so well-known that composers could use it as a foundation for elaborate variations, knowing their audience would recognize the underlying structure. In the 18th century, every music student learned the Romanesca as one of the first compositional patterns. It appears in popular songs, courtly dances, and sophisticated chamber music alike. The pattern's flexibility made it perfect for both simple folk melodies and complex contrapuntal elaborations. When you learn the Romanesca, you're connecting with centuries of musical tradition - this is the same pattern that Mozart, Bach, and Vivaldi all knew by heart.",
    },
  },
  {
    id: "basic-3-do-re-mi",
    title: "Galant Schema: Do-Re-Mi",
    description: "Master the ascending 1-2-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["basic-2-romanesca"],
    xpReward: 35,
    content: {
      theory:
        "Do-Re-Mi: 1-2-3 in the bass, often with 5-6-5 in the soprano. A simple but elegant opening pattern used in countless pieces. The basic pattern is: Bass: 1-2-3. Harmony: I - V6/3 - I6/4 (or V). Soprano: 5-6-5. A common melodic embellishment is to add a leading tone (7) before the final 1. For example: Bass: C-D-E. Soprano: G-A-B-C. This creates a sense of forward motion and anticipation. This pattern is often used to begin a phrase or to lead into a more complex section. It's a versatile building block in galant music.",
      examples: [
        {
          id: "drm-ex-1",
          title: "Basic Do-Re-Mi",
          description: "Bass: C-D-E, Soprano: G-A-G. Harmony: I - V6/3 - I6/4 (or V)",
          notation: "Bass: 1-2-3 | Soprano: 5-6-5",
          figuredBass: "5/3 - 6/3 - 6/4",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[E3,E4,G4,C5]"],
        },
        {
          id: "drm-ex-2",
          title: "Do-Re-Mi with Leading Tone",
          description: "Bass: C-D-E, Soprano: G-A-B-C. Harmony: I - V6/3 - I6/4 - I",
          notation: "Bass: 1-2-3-1 | Soprano: 5-6-7-8",
          figuredBass: "5/3 - 6/3 - 6/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[E3,E4,G4,B4]", "[C3,C4,E4,C5]"],
        },
        {
          id: "drm-ex-3",
          title: "Extended Do-Re-Mi sequence",
          description: "The pattern can be sequenced: 1-2-3 | 4-5-6 | 7-8-1...",
          notation: "Bass: C-D-E | F-G-A | B-C-D",
          figuredBass: "5/3 - 6/3 - 6/4 | 5/3 - 6/3 - 6/4 | 5/3 - 6/3 - 6/4",
          audioPattern: [
            "[C3,C4,E4,G4]",
            "[D3,D4,F4,A4]",
            "[E3,E4,G4,C5]",
            "[F3,F4,A4,C5]",
            "[G3,G4,B4,D5]",
            "[A3,A4,C5,E5]",
            "[B3,B4,D5,F5]",
            "[C4,C5,E5,G5]",
            "[D4,D5,F5,A5]",
          ],
        },
      ],
      exercises: [
        {
          id: "drm-1",
          type: "identify",
          prompt: "What is the typical bass motion for the Do-Re-Mi schema?",
          options: ["Ascending stepwise", "Descending stepwise", "Leaping by thirds", "Repeated notes"],
          correctAnswer: "Ascending stepwise",
          hints: ["Think about the names: Do, Re, Mi", "These are the first three notes of a scale"],
        },
        {
          id: "drm-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the basic Do-Re-Mi?",
          options: ["C-E-G", "C-G-C", "C-D-E", "C-F-G"],
          correctAnswer: "C-D-E",
          hints: ["Do is C", "Re is D", "Mi is E"],
        },
        {
          id: "drm-3",
          type: "identify",
          prompt: "What is a common soprano line for the Do-Re-Mi schema?",
          options: ["8-7-6", "5-4-3", "5-6-5", "1-2-3"],
          correctAnswer: "5-6-5",
          hints: ["The soprano often mirrors or complements the bass motion", "Think of typical melodic shapes"],
        },
        {
          id: "drm-4",
          type: "identify",
          prompt: "The Do-Re-Mi schema is often used for what musical purpose?",
          options: [
            "To end a piece",
            "To begin a phrase or transition",
            "To create a dramatic climax",
            "To introduce a solo",
          ],
          correctAnswer: "To begin a phrase or transition",
          hints: ["It has an opening, forward-moving quality", "It feels like setting up something new"],
        },
        {
          id: "drm-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Do-Re-Mi in C major. Bass: C-D-E. Use the harmony: I (5/3) - V6/3 (6/3) - I6/4 (or V). Soprano: G-A-G.",
          correctAnswer": "Left hand: C-D-E. Right hand: G-A-G, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "D bass (V6/3): Play D-F-A (first inversion of G major)",
            "E bass (I6/4 or V): Play E-G-C (second inversion of C major) or E-G-B (first inversion of G major)",
          ],
        },
        {
          id: "drm-6-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Do-Re-Mi with leading tone in G major. Bass: G-A-B-G. Soprano: D-E-F#-D.",
          correctAnswer": "Left hand: G-A-B-G. Right hand: D-E-F#-D, with appropriate chord voicings.",
          hints": [
            "G bass (I): Play G-B-D",
            "A bass (V6/3 of D major): Play A-C#-E (or A-C-E)",
            "B bass (I6/4 or V): Play B-D-G (second inversion of G major) or B-D#-F# (first inversion of D major)",
          ],
        },
        {
          id: "drm-7-melodic",
          type: "play",
          prompt": "MELODIES: Create a simple melodic line over the Do-Re-Mi bass in C major (C-D-E). Focus on stepwise motion in the melody.",
          bassPattern: "C3-D3-E3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A stepwise melody that fits the harmony",
          hints": [
            "Start on G (5) over C",
            "Move to A (6) over D",
            "Resolve to G (5) over E",
            "You can add passing tones or neighbor tones for interest",
          ],
        },
        {
          id: "drm-8-composition",
          type: "play",
          prompt":
            "COMPOSITION: Create a short 4-bar phrase that begins with the Do-Re-Mi schema. Use PASSING NOTES to create smooth melodic lines. A passing note fills the space between two chord tones by stepwise motion (e.g., C-D-E where D connects C and E). This creates flowing, singable melodies.",
          bassPattern: "C3-D3-E3-F3-G3-A3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A 4-bar phrase incorporating the Do-Re-Mi with passing notes",
          hints": [
            "Start with C-D-E bass and melody",
            "Use passing notes to connect chord tones smoothly (e.g., G-A-B-C)",
            "Sequence it: F-G-A bass and melody",
            "End with a V-I cadence",
          ],
        },
        {
          id: "drm-9-combination",
          type: "play",
          prompt":
            "COMBINATION: Create a 16-bar binary form combining Rule of the Octave, Romanesca, and Do-Re-Mi. Structure: Bars 1-4: Rule of the Octave ascending (C-D-E-F-G-A-B-C). Bars 5-8: Romanesca (C-B-A-G) ending with half cadence on G. Bars 9-12: Do-Re-Mi (C-D-E) sequenced to (F-G-A). Bars 13-16: Cadential progression (G-C) with compound cadence. This creates a complete miniature piece!",
          bassPattern: "C3-D3-E3-F3-G3-A3-B3-C4-C4-B3-A3-G3-C3-D3-E3-F3-G3-A3-G3-C3",
          beatsPerNote: 2,
          tempo: 80,
          correctAnswer": "A 16-bar binary form combining the three patterns with passing notes",
          hints": [
            "Section A (bars 1-8): Rule of Octave + Romanesca creates the opening",
            "Section B (bars 9-16): Do-Re-Mi sequence + cadence creates the closing",
            "Use passing notes throughout to create flowing melodies",
            "Think of this as a complete miniature dance movement",
            "Listen to how the patterns connect smoothly",
          ],
        },
      ],
      historicalContext:
        "The Do-Re-Mi schema is a cornerstone of galant and classical music. It appears in countless works by composers like Haydn, Mozart, and Beethoven. Its simple, ascending nature makes it highly recognizable and versatile, serving as an effective opening or transitional device. Its pedagogical value lies in its clear harmonic progression and simple melodic possibilities, making it an ideal starting point for young composers and improvisers.",
    },
  },
  {
    id: "basic-4-sol-fa-mi",
    title: "Galant Schema: Sol-Fa-Mi",
    description: "Learn the descending 5-4-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["basic-3-do-re-mi"],
    xpReward: 35,
    content: {
      theory:
        "Sol-Fa-Mi: 5-4-3 in the bass, often used as a closing pattern or to approach a cadence. The typical harmony is V - IV6 - I. The soprano can move in various ways, often descending with the bass or creating contrary motion. A common soprano line is 7-6-5 or 8-7-8. This pattern creates a sense of arrival and finality, making it ideal for closing phrases or sections.",
      examples: [
        {
          id: "sfa-ex-1",
          title: "Basic Sol-Fa-Mi",
          description: "Bass: G-F-E, Soprano: B-A-G. Harmony: V - IV6 - I",
          notation: "Bass: 5-4-3 | Soprano: 7-6-5",
          figuredBass: "5/3 - 6/3 - 5/3",
          audioPattern: ["[G3,G4,B4,D5]", "[F3,F4,A4,C5]", "[E3,E4,G4,B4]"],
        },
        {
          id: "sfa-ex-2",
          title: "Sol-Fa-Mi with Descending Soprano",
          description: "Bass: G-F-E, Soprano: D-C-B. Harmony: V - IV6 - I",
          notation: "Bass: 5-4-3 | Soprano: 1-8-7 (of lower octave)",
          figuredBass: "5/3 - 6/3 - 5/3",
          audioPattern: ["[G3,G4,B4,D5]", "[F3,F4,A4,C5]", "[E3,E4,G4,C5]"],
        },
        {
          id: "sfa-ex-3",
          title: "Sol-Fa-Mi leading to Cadence",
          description: "Bass: G-F-E-C. Harmony: V - IV6 - I - I",
          notation: "Bass: 5-4-3-1",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[G3,G4,B4,D5]", "[F3,F4,A4,C5]", "[E3,E4,G4,B4]", "[C3,C4,E4,G4]"],
        },
      ],
      exercises: [
        {
          id: "sfa-1",
          type: "identify",
          prompt: "What is the typical bass motion for the Sol-Fa-Mi schema?",
          options: ["Ascending stepwise", "Descending stepwise", "Leaping by fourths", "Repeated notes"],
          correctAnswer: "Descending stepwise",
          hints: ["Think about the names: Sol, Fa, Mi", "These are scale degrees 5, 4, 3"],
        },
        {
          id: "sfa-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the basic Sol-Fa-Mi?",
          options: ["C-D-E", "G-F-E", "A-G-F", "C-B-A"],
          correctAnswer: "G-F-E",
          hints: ["Sol is G", "Fa is F", "Mi is E"],
        },
        {
          id: "sfa-3",
          type: "identify",
          prompt: "What is a common function of the Sol-Fa-Mi schema?",
          options: [
            "To begin a phrase",
            "To create tension",
            "To close a phrase or cadence",
            "To modulate to a new key",
          ],
          correctAnswer: "To close a phrase or cadence",
          hints: ["It has a sense of resolution and finality", "It often leads directly to the tonic"],
        },
        {
          id: "sfa-4",
          type: "identify",
          prompt: "What is a common soprano line for the Sol-Fa-Mi schema?",
          options: ["1-2-3", "5-6-7", "7-6-5", "8-7-1"],
          correctAnswer: "7-6-5",
          hints: ["The soprano often descends with the bass", "Think of typical resolutions"],
        },
        {
          id: "sfa-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Sol-Fa-Mi in C major. Bass: G-F-E. Use the harmony: V (5/3) - IV6 (6/3) - I (5/3). Soprano: B-A-G.",
          correctAnswer": "Left hand: G-F-E. Right hand: B-A-G, with appropriate chord voicings.",
          hints": [
            "G bass (V): Play G-B-D",
            "F bass (IV6): Play F-A-C (first inversion of F major)",
            "E bass (I): Play E-G-C (or E-G-B)",
          ],
        },
        {
          id: "sfa-6-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Sol-Fa-Mi in G major leading to a cadence. Bass: D-C-B-G. Soprano: F#-E-D-B. Harmony: V (of G) - IV6 (of G) - I (of G) - I (of G).",
          correctAnswer": "Left hand: D-C-B-G. Right hand: F#-E-D-B, with appropriate chord voicings.",
          hints": [
            "D bass (V of G): Play D-F#-A",
            "C bass (IV6 of G): Play C-E-G (first inversion of C major)",
            "B bass (I of G): Play B-D-G",
            "G bass (I of G): Play G-B-D",
          ],
        },
        {
          id: "sfa-7-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a simple melodic line over the Sol-Fa-Mi bass in C major (G-F-E). Focus on stepwise motion and fitting the harmony.",
          bassPattern: "G3-F3-E3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A stepwise melody that fits the harmony",
          hints": [
            "Start on B (7) or D (2) over G",
            "Move to A (6) or C (1) over F",
            "Resolve to G (5) or B (7) over E",
            "Consider descending motion to complement the bass",
          ],
        },
        {
          id: "sfa-8-composition",
          type: "play",
          prompt":
            "COMPOSITION: Create a short 4-bar phrase using the Sol-Fa-Mi schema to end it. Use TURNS to embellish your melody. A turn ornaments a note by moving to the note above, returning to the main note, moving to the note below, and returning again (e.g., G-A-G-F-G). This creates elegant, baroque-style ornamentation.",
          bassPattern: "C3-G3-F3-E3-C3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A 4-bar phrase incorporating the Sol-Fa-Mi with turns",
          hints": [
            "Start with C-G bass for I-V",
            "Then use F-E-C bass for IV6-I-I",
            "Add turns around important melody notes (e.g., G-A-G-F-G)",
            "Turns work best on longer notes",
            "End with a clear cadence",
          ],
        },
        {
          id: "sfa-9-combination",
          type: "play",
          prompt":
            "COMBINATION: Create a 12-bar rounded binary form combining Romanesca, Do-Re-Mi, and Sol-Fa-Mi. Structure: Bars 1-4: Romanesca (C-B-A-G). Bars 5-8: Do-Re-Mi (C-D-E-F-G-A). Bars 9-12: Sol-Fa-Mi (G-F-E) with final cadence to C. This creates a complete ABA' form with opening, development, and return!",
          bassPattern: "C3-B2-A2-G2-C3-D3-E3-F3-G3-A3-G3-F3-E3-C3",
          beatsPerNote: 2,
          tempo: 80,
          correctAnswer": "A 12-bar rounded binary form combining the three schemas with turns",
          hints": [
            "A section (bars 1-4): Romanesca establishes the key",
            "B section (bars 5-8): Do-Re-Mi provides contrast and motion",
            "A' section (bars 9-12): Sol-Fa-Mi brings closure",
            "Use turns to ornament important melodic moments",
            "Think of this as a complete miniature dance movement",
          ],
        },
      ],
      historicalContext:
        "The Sol-Fa-Mi schema is a cornerstone of cadential patterns in galant and classical music. Its descending bass line provides a strong sense of closure, making it indispensable for phrase endings. Composers like Haydn and Mozart frequently employed this schema to bring their musical ideas to a satisfying conclusion. Its simplicity and effectiveness have ensured its place in the repertoire of composers and improvisers for centuries.",
    },
  },
  {
    id: "basic-5-furno-partimenti-1",
    title: "Furno's Method: First Partimenti",
    description: "Begin with Giovanni Furno's clear, easy partimenti",
    category: "patterns",
    tradition: "italian",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["basic-4-sol-fa-mi"],
    xpReward: 40,
    content: {
      theory:
        "Furno's partimenti are the perfect introduction. They combine the Rule of the Octave with simple cadences and suspensions. Each partimento is a complete musical phrase that teaches specific patterns. Start by playing the bass line, then add the right hand using the figures.",
      examples: [
        {
          id: "ex-1",
          description: "Furno Partimento No. 1 - Simple ascending scale",
          notation: "Bass: C D E F G A B C | Figures: - 6 6 - - 6 6 -",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "A3", "B3", "C4"],
          figuredBass: "- 6 6 - - 6 6 -",
        },
        {
          id: "ex-2",
          description: "Furno Partimento No. 2 - Descending with cadence",
          notation: "Bass: C B A G F E D C | Figures: - 6 6 - 6 6 7 -",
          audioPattern: ["C4", "B3", "A3", "G3", "F3", "E3", "D3", "C3"],
          figuredBass: "- 6 6 - 6 6 7 -",
        },
        {
          id: "ex-3",
          description: "Furno Partimento No. 3 - With authentic cadence",
          notation: "Bass: C D E F G C | Figures: - 6 6 - 7 -",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "C3"],
          figuredBass: "- 6 6 - 7 -",
        },
      ],
      exercises: [
        {
          id: "ex-furno-1",
          type: "play",
          prompt":
            "Realize this Furno partimento: Bass C-D-E-F-G-C with figures - 6 6 - 7 -",
          correctAnswer": "Correct realization with proper voice leading",
          hints": [
            "Bass: C-D-E-F-G-C",
            "Figures: - 6 6 - 7 -",
            "Apply the Rule of the Octave and inversion principles.",
            "Ensure smooth movement between voices.",
          ],
        },
      ],
      historicalContext:
        "Giovanni Furno (1748-1837) created the clearest and most pedagogical partimenti method, with written-out realizations for students to study. His 'Metodo facile, breve e chiaro' (Easy, Brief, and Clear Method) was used throughout Europe.",
    },
  },
  {
    id: "basic-6-diminution-2to1",
    title: "Simple Diminutions: 2:1 Ratio",
    description: "Learn to add two notes for every one (Ortiz style)",
    category: "diminutions",
    tradition: "both",
    difficulty: "elementary",
    level: 2,
    prerequisites: ["basic-5-furno-partimenti-1"],
    xpReward: 35,
    content: {
      theory:
        "2:1 diminution: For every note, play two. Use passing tones (stepwise motion) or neighbor tones (step away and back). The first note of the beat should generally be consonant (a chord tone), while the second note (passing tone) can be dissonant, as long as it moves stepwise to the next consonant note. Neighbor tones (stepping away from a chord tone and returning to it) are also common. This technique adds rhythmic interest and melodic fluidity to a basic harmonic progression.",
      examples: [
        {
          id: "ex-1",
          description: "2:1 Diminution over I chord (C-E-G)",
          notation: "Bass: C | Soprano: C (whole note) becomes C-D-E-C",
          audioPattern: ["[C3,C4,E4,G4]", "[C4,D4,E4,C4]"],
        },
        {
          id: "ex-2",
          description: "2:1 Diminution over V-I cadence",
          notation: "Bass: G-C | Soprano: D (whole note) becomes D-E-F-D, then C (whole note) becomes C-B-A-C",
          audioPattern: ["[G3,G4,B4,D5]", "[D4,E4,F4,D4]", "[C3,C4,E4,G4]", "[C4,B3,A3,C4]"],
        },
        {
          id: "ex-3",
          description: "2:1 Diminution with descending scale fragment",
          notation: "Bass: C-D-E | Soprano: G-F-E-G | F-E-D-F",
          audioPattern: ["[C3,C4,E4,G4]", "[G4,F4,E4,G4]", "[D3,D4,F4,A4]", "[F4,E4,D4,F4]"],
        },
      ],
      exercises: [
        {
          id: "dim2-1",
          type: "identify",
          prompt: "What is the basic idea behind 2:1 diminution?",
          options: [
            "Play one note for each beat",
            "Play two notes for each beat",
            "Play four notes for each beat",
            "Play half the number of notes",
          ],
          correctAnswer: "Play two notes for each beat",
          hints: ["The ratio is 2:1", "Two notes per beat"],
        },
        {
          id: "dim2-2",
          type: "identify",
          prompt: "What is a common type of note used in 2:1 diminution?",
          options: [
            "Whole notes",
            "Half notes",
            "Quarter notes (or eighth notes depending on tempo)",
            "Sixteenth notes",
          ],
          correctAnswer: "Quarter notes (or eighth notes depending on tempo)",
          hints: ["We are doubling the number of notes", "This means shorter note values"],
        },
        {
          id: "dim2-3",
          type: "identify",
          prompt: "What should generally be consonant on the strong beat of a 2:1 diminution?",
          options: ["Any note", "A passing tone", "A chord tone", "A dissonant note"],
          correctAnswer: "A chord tone",
          hints: ["The strong beat usually supports the harmony", "Chord tones are the foundation of chords"],
        },
        {
          id: "dim2-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Play a simple I chord in C major (C-E-G). Now realize it with 2:1 diminution in the soprano. Bass: C. Soprano: C-D-E-C.",
          correctAnswer": "Left hand: C. Right hand: C-D-E-C, where each note is a quarter note (or eighth note if beat is a half note).",
          hints": [
            "The bass note C is held for the entire measure.",
            "The soprano melody uses chord tones (C, E) and a passing tone (D).",
            "The final C resolves the passing tone.",
          ],
        },
        {
          id: "dim2-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Play a V-I cadence in C major. Bass: G-C. Realize the soprano with 2:1 diminution, emphasizing the resolution. Soprano over G: D-E-F-D. Soprano over C: C-B-A-C.",
          correctAnswer": "Left hand: G-C. Right hand: D-E-F-D over G, then C-B-A-C over C.",
          hints": [
            "Over G, D is a chord tone, E and F are passing tones, D is a chord tone.",
            "Over C, C is a chord tone, B is a passing tone, A is a passing tone, C is a chord tone.",
            "Listen for the smooth resolution.",
          ],
        },
        {
          id: "dim2-6-melodic",
          type: "play",
          prompt": "MELODIES: Create a 2:1 diminution melody over a sustained C major chord. Use passing tones and neighbor tones.",
          bassPattern: "C3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A melody with two notes per beat, using chord tones and stepwise motion.",
          hints": [
            "Start with C-E-G chord tones.",
            "Add passing tones like D between C and E, or F between E and G.",
            "Add neighbor tones like D above C, or F above E.",
            "Ensure the strong beat notes are chord tones.",
          ],
        },
      ],
      historicalContext:
        "Diego Ortiz's 'Trattado de Glosas' (1553) is a foundational text for ornamentation and diminution. He systematically explored different divisions of the beat, starting with simple ratios like 2:1 before moving to more complex ones. This early pedagogy ensured that musicians understood how to add melodic interest and rhythmic vitality to basic harmonic progressions, a skill essential for improvisation and composition in the Renaissance and Baroque periods.",
    },
  },

  // ============================================
  // LEVEL 3: INTERMEDIATE PATTERNS
  // ============================================
  {
    id: "inter-1-prinner",
    title: "Galant Schema: Prinner",
    description: "Master the descending 6-5-4-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["basic-6-diminution-2to1"],
    xpReward: 45,
    content: {
      theory:
        "Prinner: 6-5-4-3 in the bass with alternating 5/3 and 6/3 chords. One of the most common opening patterns in galant music. The typical harmony is: vi - V6/3 - IV - V. The soprano line often moves in contrary motion to the bass, creating a graceful and elegant effect. For example, over vi (bass 6), soprano might be 1; over V6/3 (bass 5), soprano might be 7; over IV (bass 4), soprano might be 6; over V (bass 3), soprano might be 5. This schema is characterized by its smooth voice leading and predictable harmonic structure, making it a reliable choice for composers.",
      examples: [
        {
          id: "prinner-ex-1",
          title: "Basic Prinner Schema",
          description: "Bass: A-G-F-E (in C major). Harmony: vi - V6/3 - IV - V",
          notation: "Bass: 6-5-4-3 | Harmony: vi - V6/3 - IV - V",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[A2,A3,C4,E4]", "[G2,G3,B3,D4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "prinner-ex-2",
          title: "Prinner with Soprano Counterpoint",
          description: "Bass: A-G-F-E | Soprano: C-B-A-G. Creating contrary motion.",
          notation: "Bass: 6-5-4-3 | Soprano: 1-7-6-5",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[A2,A3,C4,E4]", "[G2,G3,B3,D4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "prinner-ex-3",
          title: "Sequenced Prinner",
          description: "The pattern can be sequenced to continue the descent.",
          notation: "Bass: A-G-F-E | D-C-B-A",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3 | 5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: [
            "[A2,A3,C4,E4]",
            "[G2,G3,B3,D4]",
            "[F2,F3,A3,C4]",
            "[E2,E3,G3,B3]",
            "[D2,D3,F3,A3]",
            "[C2,C3,E3,G3]",
            "[B2,B3,D3,F3]",
            "[A2,A3,C3,E3]",
          ],
        },
      ],
      exercises: [
        {
          id: "prinner-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Prinner schema?",
          options: ["Ascending stepwise", "Descending stepwise", "Leaping by fourths", "Arpeggiated chords"],
          correctAnswer: "Descending stepwise",
          hints: ["The Prinner schema involves a descent", "Think about the scale degrees involved"],
        },
        {
          id: "prinner-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the basic Prinner schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "C-B-A-G"],
          correctAnswer: "A-G-F-E",
          hints: ["The Prinner starts on scale degree 6", "It descends to scale degree 3"],
        },
        {
          id: "prinner-3",
          type: "identify",
          prompt: "What types of chords are typically used in the Prinner schema?",
          options: [
            "Only root position triads",
            "Alternating 5/3 and 6/3 chords",
            "Only first inversion triads",
            "Dominant seventh chords",
          ],
          correctAnswer: "Alternating 5/3 and 6/3 chords",
          hints: ["The smooth voice leading is key", "First inversion (6/3) often follows root position (5/3)"],
        },
        {
          id: "prinner-4",
          type: "identify",
          prompt: "The Prinner schema is often used for what musical purpose?",
          options: [
            "To create dramatic tension",
            "As an opening pattern",
            "To end a piece definitively",
            "To introduce a fugue subject",
          ],
          correctAnswer: "As an opening pattern",
          hints: ["It has a graceful, flowing quality suitable for beginnings", "It's a common way to start a musical phrase"],
        },
        {
          id: "prinner-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Prinner schema in C major. Bass: A-G-F-E. Harmony: vi (5/3) - V6/3 (6/3) - IV (5/3) - V (5/3). Soprano: C-B-A-G.",
          correctAnswer": "Left hand: A-G-F-E. Right hand: C-B-A-G, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "B bass (V6/3): Play B-D-G (first inversion of G major)",
            "F bass (IV): Play F-A-C",
            "E bass (V): Play E-G-B (or E-G-D)",
          ],
        },
        {
          id: "prinner-6-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Prinner schema in G major. Bass: B-A-G-F#. Harmony: vi (5/3) - V6/3 (6/3) - IV (5/3) - V (5/3). Soprano: D-C#-B-A.",
          correctAnswer": "Left hand: B-A-G-F#. Right hand: D-C#-B-A, with appropriate chord voicings.",
          hints": [
            "B bass (vi in G): Play B-D-F#",
            "A bass (V6/3 of D major): Play A-C#-E",
            "G bass (IV in G): Play G-B-D",
            "F# bass (V in G): Play F#-A#-C# (or F#-A-C#)",
          ],
        },
        {
          id: "prinner-7-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a lyrical melody over the Prinner bass in C major (A-G-F-E). Focus on contrary motion to the bass.",
          bassPattern: "A2-G2-F2-E2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A lyrical melody that fits the harmony and moves contrary to the bass.",
          hints": [
            "Try starting on C (1) over A",
            "Move to B (7) over G",
            "Move to A (6) over F",
            "Resolve to G (5) over E",
            "Ensure the strong beats have consonant notes.",
          ],
        },
        {
          id: "prinner-8-composition",
          type: "play",
          prompt":
            "COMPOSITION: Create a 4-bar phrase that begins with the Prinner schema and ends with a simple cadence. Use NOTA CAMBIATA to create interesting melodic motion. The nota cambiata is a four-note pattern: step down, leap down a third, step up (e.g., C-B-G-A). This creates a distinctive baroque melodic gesture.",
          bassPattern: "A2-G2-F2-E2-G3-C3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A 4-bar phrase starting with Prinner using nota cambiata",
          hints": [
            "Use the Prinner schema for the first 2 bars (A-G-F-E bass)",
            "Follow with a V-I cadence (G-C bass)",
            "Add nota cambiata patterns in your melody (step-leap-step: C-B-G-A)",
            "This pattern adds rhythmic and melodic interest",
          ],
        },
        {
          id: "prinner-9-combination",
          type: "play",
          prompt":
            "COMBINATION: Create a 16-bar period combining Rule of the Octave, Prinner, and Romanesca. Structure: Bars 1-4: Rule of the Octave ascending. Bars 5-8: Prinner (A-G-F-E) with half cadence. Bars 9-12: Rule of the Octave descending. Bars 13-16: Romanesca (C-B-A-G) with authentic cadence. This creates a balanced period with question-answer structure!",
          bassPattern: "C3-D3-E3-F3-G3-A3-B3-C4-A3-G3-F3-E3-C4-B3-A3-G3-F3-E3-D3-C3-B2-A2-G2-C3",
          beatsPerNote: 2,
          tempo: 80,
          correctAnswer": "A 16-bar period combining patterns with nota cambiata",
          hints": [
            "Antecedent (bars 1-8): Rule of Octave + Prinner creates the question",
            "Consequent (bars 9-16): Rule of Octave + Romanesca creates the answer",
            "Use nota cambiata patterns to add melodic interest",
            "The structure creates a balanced, complete musical statement",
          ],
        },
      ],
      historicalContext:
        "The Prinner schema, named after the 17th-century composer Johann Jakob Prinner, is a foundational pattern in galant and classical music. Its graceful descending bass line, combined with smooth chordal harmony, makes it a popular choice for opening musical phrases. Composers like Haydn and Mozart frequently employed this schema, recognizing its effectiveness in establishing a pleasing and idiomatic musical texture. Its predictable structure also made it an excellent tool for improvisers.",
    },
  },
  {
    id: "inter-2-meyer",
    title: "Galant Schema: Meyer",
    description: "Learn the 1-7-4-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-1-prinner"],
    xpReward: 45,
    content: {
      theory:
        "Meyer: 1-7-4-3 in the bass, often used as an opening riposte to the Prinner. The typical harmony is I - V6/3 - IV - V. This schema is characterized by its ascending motion in the first two bass notes, followed by a descent. It creates a sense of melodic interest and harmonic movement. A common soprano line moves in contrary motion: 5-6-8-7. The Meyer schema provides a nice contrast to the purely descending Prinner, offering a different character and harmonic direction.",
      examples: [
        {
          id: "meyer-ex-1",
          title: "Basic Meyer Schema",
          description: "Bass: C-B-F-E (in C major). Harmony: I - V6/3 - IV - V",
          notation: "Bass: 1-7-4-3 | Harmony: I - V6/3 - IV - V",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[B2,B3,D4,G4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "meyer-ex-2",
          title: "Meyer with Soprano Counterpoint",
          description: "Bass: C-B-F-E | Soprano: G-A-C-B. Creating contrary motion.",
          notation: "Bass: 1-7-4-3 | Soprano: 5-6-8-7",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[B2,B3,D4,G4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "meyer-ex-3",
          title: "Sequenced Meyer",
          description: "The pattern can be sequenced to continue the ascent and descent.",
          notation: "Bass: C-B-F-E | G-F-C-B",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3 | 5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: [
            "[C3,C4,E4,G4]",
            "[B2,B3,D4,G4]",
            "[F2,F3,A3,C4]",
            "[E2,E3,G3,B3]",
            "[G2,G3,B3,D4]",
            "[F2,F3,A3,C4]",
            "[C2,C3,E3,G3]",
            "[B2,B3,D3,F3]",
          ],
        },
      ],
      exercises: [
        {
          id: "meyer-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Meyer schema?",
          options: ["Descending stepwise", "Ascending then descending", "Leaping by fourths", "Arpeggiated chords"],
          correctAnswer: "Ascending then descending",
          hints: ["The first two notes ascend, the last two descend", "Think of the scale degrees 1-7-4-3"],
        },
        {
          id: "meyer-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the Meyer schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "C-B-F-E"],
          correctAnswer: "C-B-F-E",
          hints: ["Starts on scale degree 1", "Follows the pattern 1-7-4-3"],
        },
        {
          id: "meyer-3",
          type: "identify",
          prompt: "The Meyer schema is often used as a contrast to which other schema?",
          options: ["Romanesca", "Do-Re-Mi", "Prinner", "Sol-Fa-Mi"],
          correctAnswer: "Prinner",
          hints: ["The Prinner is a descending pattern", "The Meyer offers a different direction"],
        },
        {
          id: "meyer-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Meyer schema in C major. Bass: C-B-F-E. Harmony: I (5/3) - V6/3 (6/3) - IV (5/3) - V (5/3). Soprano: G-A-C-B.",
          correctAnswer": "Left hand: C-B-F-E. Right hand: G-A-C-B, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "B bass (V6/3): Play B-D-G (first inversion of G major)",
            "F bass (IV): Play F-A-C",
            "E bass (V): Play E-G-B (or E-G-D)",
          ],
        },
        {
          id: "meyer-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Meyer schema in G major. Bass: G-F#-C-B. Harmony: I (5/3) - V6/3 (6/3) - IV (5/3) - V (5/3). Soprano: D-E-G-F#.",
          correctAnswer": "Left hand: G-F#-C-B. Right hand: D-E-G-F#, with appropriate chord voicings.",
          hints": [
            "G bass (I): Play G-B-D",
            "F# bass (V6/3 of D major): Play F#-A#-C# (or F#-A-C#)",
            "C bass (IV in G): Play C-E-G",
            "B bass (V in G): Play B-D#-F# (or B-D-F#)",
          ],
        },
        {
          id: "meyer-6-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a flowing melody over the Meyer bass in C major (C-B-F-E). Focus on contrary motion to the bass.",
          bassPattern: "C3-B2-F2-E2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A flowing melody that fits the harmony and moves contrary to the bass.",
          hints": [
            "Try starting on G (5) over C",
            "Move to A (6) over B",
            "Move to C (8) over F",
            "Resolve to B (7) over E",
            "Ensure smooth stepwise motion where possible.",
          ],
        },
      ],
      historicalContext:
        "The Meyer schema, named after the German composer Philip Jakob Meyer, is a significant pattern in galant music. Its distinctive bass line, combining ascending and descending motion, provides a sense of melodic and harmonic variety. It serves as an effective 'riposte' or answer to the more straightforwardly descending Prinner schema. Composers appreciated the Meyer schema for its ability to create engaging melodic contours and lead smoothly into cadences.",
    },
  },
  {
    id: "inter-3-fonte",
    title: "Galant Schema: Fonte",
    description: "Master the sequential descending pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-2-meyer"],
    xpReward: 50,
    content: {
      theory:
        "Fonte: A descending sequence, typically 4-3-2-1 with specific voice leading. Creates a sense of gentle descent and resolution. The typical harmony is IV - V6/3 - ii - V (or IV - iii6/3 - ii - V). The bass descends stepwise, while the upper voices create a series of suspensions and resolutions. A common soprano line is 6-5-3-5 or 6-5-4-3. This pattern is characterized by its smooth, stepwise descent and its ability to create a feeling of rest or conclusion within a phrase. It's often found leading into a cadence.",
      examples: [
        {
          id: "fonte-ex-1",
          title: "Basic Fonte Schema",
          description: "Bass: F-E-D-C (in C major). Harmony: IV - iii6/3 - ii - V",
          notation: "Bass: 4-3-2-1 | Harmony: IV - iii6/3 - ii - V",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[D2,D3,F3,A3]", "[C2,C3,E3,G3]"],
        },
        {
          id: "fonte-ex-2",
          title: "Fonte with Soprano Descent",
          description: "Bass: F-E-D-C | Soprano: A-G-F-E. Creating parallel descent.",
          notation: "Bass: 4-3-2-1 | Soprano: 6-5-4-3",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[D2,D3,F3,A3]", "[C2,C3,E3,G3]"],
        },
        {
          id: "fonte-ex-3",
          title: "Fonte leading to Cadence",
          description: "The Fonte schema often resolves to the dominant, leading into a final cadence.",
          notation: "Bass: F-E-D-C-G-C",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3 - 5/3 - 5/3",
          audioPattern: [
            "[F2,F3,A3,C4]",
            "[E2,E3,G3,B3]",
            "[D2,D3,F3,A3]",
            "[C2,C3,E3,G3]",
            "[G2,G3,B3,D4]",
            "[C2,C3,E3,G3]",
          ],
        },
      ],
      exercises: [
        {
          id: "fonte-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Fonte schema?",
          options: ["Ascending stepwise", "Descending stepwise", "Leaping by fourths", "Arpeggiated chords"],
          correctAnswer: "Descending stepwise",
          hints: ["Fonte means 'fountain' or 'descent'", "The bass line flows downwards"],
        },
        {
          id: "fonte-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the basic Fonte schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "F-E-D-C"],
          correctAnswer: "F-E-D-C",
          hints: ["Starts on scale degree 4", "Descends stepwise to scale degree 1"],
        },
        {
          id: "fonte-3",
          type: "identify",
          prompt: "What feeling does the Fonte schema typically evoke?",
          options: [
            "Excitement and energy",
            "Gentle descent and resolution",
            "Sudden surprise",
            "Tension and anticipation",
          ],
          correctAnswer: "Gentle descent and resolution",
          hints: ["It's often used to conclude a musical idea", "It has a smooth, calming effect"],
        },
        {
          id: "fonte-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Fonte schema in C major. Bass: F-E-D-C. Harmony: IV (5/3) - iii6/3 (6/3) - ii (5/3) - V (5/3). Soprano: A-G-F-E.",
          correctAnswer": "Left hand: F-E-D-C. Right hand: A-G-F-E, with appropriate chord voicings.",
          hints": [
            "F bass (IV): Play F-A-C",
            "E bass (iii6/3): Play E-G-B (first inversion of C major)",
            "D bass (ii): Play D-F-A",
            "C bass (V): Play C-E-G (or C-E-B)",
          ],
        },
        {
          id: "fonte-5-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Fonte schema in G major. Bass: C-B-A-G. Harmony: IV (5/3) - iii6/3 (6/3) - ii (5/3) - V (5/3). Soprano: E-D-C-B.",
          correctAnswer": "Left hand: C-B-A-G. Right hand: E-D-C-B, with appropriate chord voicings.",
          hints": [
            "C bass (IV in G): Play C-E-G",
            "B bass (iii6/3 in G): Play B-D-F# (first inversion of D major)",
            "A bass (ii in G): Play A-C-E",
            "G bass (V in G): Play G-B-D",
          ],
        },
        {
          id: "fonte-6-melodic",
          type: "play",
          prompt":
            "MELODIES: Create a gentle descending melody over the Fonte bass in C major (F-E-D-C). Focus on stepwise motion and resolution.",
          bassPattern: "F2-E2-D2-C2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A gentle descending melody that fits the harmony and resolves smoothly.",
          hints": [
            "Try starting on A (6) over F",
            "Move to G (5) over E",
            "Move to F (4) over D",
            "Resolve to E (3) over C",
            "Ensure the melody complements the descending bass.",
          ],
        },
      ],
      historicalContext:
        "The Fonte schema, meaning 'fountain' or 'descent' in Italian, is a classic example of sequential writing in Baroque and Galant music. Its predictable descending bass line and smooth harmonic progression make it an effective tool for creating a sense of gentle closure or transition. Composers like Corelli and Vivaldi often used the Fonte schema to lead into cadences or to bridge different sections of a piece, providing a moment of melodic repose.",
    },
  },
  {
    id: "inter-4-monte",
    title: "Galant Schema: Monte",
    description: "Learn the ascending sequential pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-3-fonte"],
    xpReward: 50,
    content: {
      theory:
        "Monte: An ascending sequence, the opposite of Fonte. Creates energy and forward motion. The typical bass pattern is 1-2-3-4, often harmonized with I - V6/3 - ii - IV. A common soprano line moves in contrary motion: 5-6-8-7. This schema creates a sense of building excitement and momentum, often used to lead into a more dramatic section or a climax. It's the ascending counterpart to the descending Fonte.",
      examples: [
        {
          id: "monte-ex-1",
          title: "Basic Monte Schema",
          description: "Bass: C-D-E-F (in C major). Harmony: I - V6/3 - ii - IV",
          notation: "Bass: 1-2-3-4 | Harmony: I - V6/3 - ii - IV",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[E3,E4,G4,B4]", "[F3,F4,A4,C5]"],
        },
        {
          id: "monte-ex-2",
          title: "Monte with Soprano Ascent",
          description: "Bass: C-D-E-F | Soprano: G-A-C-B. Creating contrary motion.",
          notation: "Bass: 1-2-3-4 | Soprano: 5-6-8-7",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[E3,E4,G4,B4]", "[F3,F4,A4,C5]"],
        },
        {
          id: "monte-ex-3",
          title: "Sequenced Monte",
          description: "The pattern can be sequenced to continue the ascent.",
          notation: "Bass: C-D-E-F | G-A-B-C",
          figuredBass: "5/3 - 6/3 - 5/3 - 5/3 | 5/3 - 6/3 - 5/3 - 5/3",
          audioPattern: [
            "[C3,C4,E4,G4]",
            "[D3,D4,F4,A4]",
            "[E3,E4,G4,B4]",
            "[F3,F4,A4,C5]",
            "[G3,G4,B4,D5]",
            "[A3,A4,C5,E5]",
            "[B3,B4,D5,F5]",
            "[C4,C5,E5,G5]",
          ],
        },
      ],
      exercises: [
        {
          id: "monte-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Monte schema?",
          options: ["Descending stepwise", "Ascending stepwise", "Leaping by thirds", "Arpeggiated chords"],
          correctAnswer: "Ascending stepwise",
          hints: ["Monte means 'mountain' or 'ascent'", "The bass line moves upwards"],
        },
        {
          id: "monte-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the basic Monte schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "F-E-D-C"],
          correctAnswer: "C-D-E-F",
          hints: ["Starts on scale degree 1", "Ascends to scale degree 4"],
        },
        {
          id: "monte-3",
          type: "identify",
          prompt: "What feeling does the Monte schema typically evoke?",
          options: ["Gentle descent and resolution", "Tension and anticipation", "Excitement and forward motion", "Sadness and melancholy"],
          correctAnswer: "Excitement and forward motion",
          hints: ["The ascending bass creates energy", "It often leads to a climax"],
        },
        {
          id: "monte-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the basic Monte schema in C major. Bass: C-D-E-F. Harmony: I (5/3) - V6/3 (6/3) - ii (5/3) - IV (5/3). Soprano: G-A-C-B.",
          correctAnswer": "Left hand: C-D-E-F. Right hand: G-A-C-B, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "D bass (V6/3): Play D-F-A (first inversion of G major)",
            "E bass (ii): Play E-G-B",
            "F bass (IV): Play F-A-C",
          ],
        },
        {
          id: "monte-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Monte schema in G major. Bass: G-A-B-C. Harmony: I (5/3) - V6/3 (6/3) - ii (5/3) - IV (5/3). Soprano: D-E-G-F#.",
          correctAnswer": "Left hand: G-A-B-C. Right hand: D-E-G-F#, with appropriate chord voicings.",
          hints": [
            "G bass (I): Play G-B-D",
            "A bass (V6/3 of D major): Play A-C#-E",
            "B bass (ii in G): Play B-D-F#",
            "C bass (IV in G): Play C-E-G",
          ],
        },
        {
          id: "monte-6-melodic",
          type: "play",
          prompt":
            "MELODIES: Create an energetic melody over the Monte bass in C major (C-D-E-F). Focus on contrary motion to the bass.",
          bassPattern: "C3-D3-E3-F3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "An energetic melody that fits the harmony and moves contrary to the bass.",
          hints": [
            "Try starting on G (5) over C",
            "Move to A (6) over D",
            "Move to C (8) over E",
            "Resolve to B (7) over F",
            "Ensure smooth, ascending motion where possible.",
          ],
        },
      ],
      historicalContext:
        "The Monte schema, meaning 'mountain' or 'ascent' in Italian, represents the ascending counterpart to the descending Fonte schema. This pattern is frequently used in Baroque and Galant music to build momentum and create a sense of increasing energy. Composers like Haydn and Mozart frequently employed the Monte schema to drive their music forward, often leading to climactic moments or significant cadences. Its predictable yet energetic quality makes it a valuable tool for both composition and improvisation.",
    },
  },
  {
    id: "inter-5-ponte",
    title: "Galant Schema: Ponte",
    description: "Master the dominant pedal pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-4-monte"],
    xpReward: 50,
    content: {
      theory:
        "Ponte: A dominant pedal (sustained 5 in bass) with upper voice motion. Creates anticipation and tension. The dominant pedal point typically uses the dominant chord (V) with the bass note held constant (scale degree 5). Above this sustained bass, the upper voices move through various chord qualities, often creating suspensions and dissonances that resolve back to consonant intervals. This creates a strong sense of harmonic tension and anticipation, preparing for a resolution. The Ponte schema is often used to extend a phrase or to build towards a significant cadence.",
      examples: [
        {
          id: "ponte-ex-1",
          title: "Basic Ponte Schema",
          description: "Bass: G (sustained) | Upper voices move through V7, I6/4, V7, I.",
          notation: "Bass: 5 (sustained) | Upper voices: various chords resolving to V",
          figuredBass: "Pedal point on 5",
          audioPattern: ["[G2,G3,B3,D4]", "[G2,G3,C4,E4]", "[G2,G3,B3,D4]", "[G2,G3,B3,D4]"],
        },
        {
          id: "ponte-ex-2",
          title: "Ponte with Suspensions",
          description: "Bass: G (sustained) | Upper voices create 4-3 suspensions over the pedal point.",
          notation: "Bass: 5 (sustained) | Upper voices: suspensions resolving",
          figuredBass: "Pedal point with suspensions",
          audioPattern: ["[G2,G3,B3,D4]", "[G2,G3,C4,E4]", "[G2,G3,B3,D4]", "[G2,G3,B3,D4]"],
        },
        {
          id: "ponte-ex-3",
          title: "Ponte leading to Cadence",
          description: "The Ponte schema typically leads to a strong authentic cadence.",
          notation: "Bass: G (sustained) - C | Upper voices resolve to V then I",
          figuredBass: "Pedal point on 5, resolving to V-I",
          audioPattern: ["[G2,G3,B3,D4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "ponte-1",
          type: "identify",
          prompt: "What is the defining feature of the Ponte schema?",
          options: [
            "Ascending bass line",
            "Descending bass line",
            "Sustained dominant bass note (pedal point)",
            "Rapid arpeggiated figures",
          ],
          correctAnswer: "Sustained dominant bass note (pedal point)",
          hints: ["Ponte means 'bridge'", "It often serves to connect two musical ideas", "The dominant note is held"],
        },
        {
          id: "ponte-2",
          type: "identify",
          prompt: "What is the typical scale degree for the sustained bass note in the Ponte schema?",
          options: ["1 (tonic)", "4 (subdominant)", "5 (dominant)", "6 (submediant)"],
          correctAnswer: "5 (dominant)",
          hints: ["It creates tension and anticipation", "The dominant chord leads to the tonic"],
        },
        {
          id: "ponte-3",
          type: "identify",
          prompt: "What effect does the Ponte schema typically create?",
          options: [
            "A sense of gentle closure",
            "Excitement and forward motion",
            "Anticipation and tension",
            "Melancholy and sadness",
          ],
          correctAnswer: "Anticipation and tension",
          hints: ["The sustained dominant note creates a feeling of suspension", "It prepares for a resolution"],
        },
        {
          id: "ponte-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Ponte schema in C major. Bass: G (sustained for 4 beats). Upper voices create simple chord progression: V7 - I6/4 - V7 - I. (Example voicing: G-B-D-F, G-C-E, G-B-D-F, G-B-D-G)",
          correctAnswer": "Left hand: Sustained G. Right hand: G-B-D-F, G-C-E, G-B-D-F, G-B-D-G.",
          hints": [
            "The left hand holds the G.",
            "The right hand outlines the chords as described, creating movement above the pedal point.",
            "Listen for the tension and release.",
          ],
        },
        {
          id: "ponte-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Ponte schema in G major. Bass: D (sustained for 4 beats). Upper voices: V7 - I6/4 - V7 - I. (Example voicing: D-F#-A-C, D-G-B, D-F#-A-C, D-F#-A-D)",
          correctAnswer": "Left hand: Sustained D. Right hand: D-F#-A-C, D-G-B, D-F#-A-C, D-F#-A-D.",
          hints": [
            "The left hand holds the D (dominant of G).",
            "The right hand outlines the chords: D7, G6/4, D7, G.",
            "Focus on the harmonic tension created by the pedal point.",
          ],
        },
        {
          id: "ponte-6-melodic",
          type: "play",
          prompt": "MELODIES: Create a melodic line over a Ponte schema in C major. Bass: G (sustained). Melody should move stepwise and create suspensions over the dominant.",
          bassPattern: "G2",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A melody that creates suspensions over the sustained G.",
          hints": [
            "Use notes like C (4th above G) and B (3rd above G) in the melody.",
            "Let the melody create dissonances (like 4-3 or 7-6 suspensions) that resolve.",
            "The melody should feel like it's 'searching' for resolution.",
          ],
        },
      ],
      historicalContext:
        "The Ponte schema, meaning 'bridge' in Italian, is a crucial element in Baroque and Galant composition and improvisation. Its use of a sustained dominant pedal point effectively creates harmonic tension and anticipation, making it an ideal device for extending phrases, building excitement, or preparing for significant cadences. Composers like Bach and Handel masterfully employed the Ponte schema to add dramatic weight and structural coherence to their works. Its effectiveness lies in its ability to hold the listener's attention while guiding them towards a satisfying resolution.",
    },
  },
  {
    id: "inter-6-german-griffe-1",
    title: "German Griffe: Basic Hand Positions",
    description: "Learn fundamental German keyboard grip patterns",
    category: "patterns",
    tradition: "german",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-5-ponte"],
    xpReward: 55,
    content: {
      theory:
        "Griffe (grips) are specific hand positions for common chord progressions. Learn the basic I-IV-V-I grip pattern. In German keyboard pedagogy, Griffe are standardized hand positions used for improvising and realizing figured bass. They simplify the process by providing pre-set fingerings and voicings for common harmonic sequences. The I-IV-V-I progression is the most fundamental, and mastering its Griffe provides a solid foundation for further exploration.",
      examples: [
        {
          id: "griffe1-ex-1",
          title: "I-IV-V-I Grip in C Major",
          description: "Left hand plays bass notes C-F-G-C. Right hand uses a standardized 'grip' for each chord.",
          notation: "LH: C-F-G-C | RH: Standardized voicings for I, IV, V, I",
          audioPattern: ["[C3,C4,E4,G4]", "[F3,F4,A4,C5]", "[G3,G4,B4,D5]", "[C3,C4,E4,G4]"],
        },
        {
          id: "griffe1-ex-2",
          title: "Variations on the Grip",
          description: "Slight modifications to the standard grip for smoother voice leading or different textures.",
          notation: "LH: C-F-G-C | RH: Variations in voicing",
          audioPattern: ["[C3,C4,E4,G4]", "[F3,F4,A4,C5]", "[G3,G4,B4,D5]", "[C3,C4,E4,G4]"],
        },
      ],
      exercises: [
        {
          id: "griffe1-1",
          type: "identify",
          prompt: "What does the term 'Griffe' refer to in German keyboard music?",
          options: [
            "A specific melody",
            "A standardized hand position or grip",
            "A type of ornamentation",
            "A rhythmic pattern",
          ],
          correctAnswer: "A standardized hand position or grip",
          hints: ["It's related to how the hands are placed on the keyboard", "It simplifies improvisation"],
        },
        {
          id: "griffe1-2",
          type: "identify",
          prompt: "What is the most fundamental harmonic progression for learning German Griffe?",
          correctAnswer: "I-IV-V-I",
          options: ["I-vi-IV-V", "I-IV-V-I", "I-V-vi-IV", "ii-V-I-IV"],
          hints: ["It's the most common and basic cadence", "It leads to a sense of completion"],
        },
        {
          id: "griffe1-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Practice the basic I-IV-V-I grip pattern in C major. Left hand plays bass notes C-F-G-C. Right hand uses the standard 'grip' for each chord.",
          correctAnswer": "Correct realization of the I-IV-V-I progression with standardized grips.",
          hints": [
            "Memorize the specific voicings for each chord (I, IV, V).",
            "Focus on smooth transitions between the chords.",
            "Listen to examples of German keyboard music from the Baroque era.",
          ],
        },
        {
          id: "griffe1-4-keyboard",
          type: "play",
          prompt": "KEYBOARD: Practice the basic I-IV-V-I grip pattern in G major. Left hand plays bass notes G-C-D-G. Right hand uses the standard 'grip' for each chord.",
          correctAnswer": "Correct realization of the I-IV-V-I progression with standardized grips.",
          hints": [
            "The key has changed, so adjust the chord voicings accordingly.",
            "G major: I (G-B-D), IV (C-E-G), V (D-F#-A).",
          ],
        },
      ],
      historicalContext:
        "Friedrich Erhardt Niedt's 'Musicalische Handleitung' (c. 1700-1721) was a seminal work in German keyboard pedagogy, systematically developing the concept of 'Griffe' or grips. These standardized hand positions provided a framework for improvising accompaniments and realizing figured bass, making complex harmonic progressions more accessible. Griffe were a cornerstone of German organ and harpsichord training, allowing musicians to improvise fluently within established harmonic conventions.",
    },
  },
  {
    id: "inter-7-diminution-4to1",
    title: "Intermediate Diminutions: 4:1 Ratio",
    description: "Add four notes for every one (Ortiz/Bovicelli style)",
    category: "diminutions",
    tradition: "both",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-6-german-griffe-1"],
    xpReward: 50,
    content: {
      theory:
        "4:1 diminution: Combine passing tones, neighbor tones, and small leaps. Use consonant notes on strong beats. This involves playing four notes within the duration of a single beat (or original note). The goal is to create a flowing, ornamental line while adhering to the underlying harmony. Typically, the first and third notes of the four-note pattern should be chord tones (consonant), while the second and fourth can be passing tones or neighbor tones (dissonant, but resolving stepwise). Small leaps within the pattern are also permissible, as long as they lead smoothly to consonant notes. This technique requires greater rhythmic control and melodic invention than 2:1 diminution.",
      examples: [
        {
          id: "ex-1",
          description: "4:1 Diminution over I chord (C-E-G)",
          notation: "Bass: C | Soprano: C (quarter note) becomes C-D-E-F | E-F-G-E",
          audioPattern: ["[C3,C4,E4,G4]", "[C4,D4,E4,F4]", "[E4,F4,G4,E4]"],
        },
        {
          id: "ex-2",
          description: "4:1 Diminution over V-I cadence",
          notation: "Bass: G-C | Soprano over G: D-E-F-G | D-E-F-D. Soprano over C: C-D-E-F | C-B-A-C",
          audioPattern: [
            "[G3,G4,B4,D5]",
            "[D4,E4,F4,G4]",
            "[D4,E4,F4,D4]",
            "[C3,C4,E4,G4]",
            "[C4,D4,E4,F4]",
            "[C4,B3,A3,C4]",
          ],
        },
        {
          id: "ex-3",
          description: "4:1 Diminution using leaps and neighbor tones",
          notation: "Bass: C-D-E | Soprano: G-F-A-G | E-D-F-E",
          audioPattern: ["[C3,C4,E4,G4]", "[G4,F4,A4,G4]", "[D3,D4,F4,A4]", "[E4,D4,F4,E4]"],
        },
      ],
      exercises: [
        {
          id: "dim4-1",
          type: "identify",
          prompt: "What is the basic idea behind 4:1 diminution?",
          options: [
            "One note per beat",
            "Two notes per beat",
            "Four notes per beat",
            "Eight notes per beat",
          ],
          correctAnswer: "Four notes per beat",
          hints: ["The ratio is 4:1", "Four notes for the duration of one original note"],
        },
        {
          id: "dim4-2",
          type: "identify",
          prompt: "What type of notes are typically used for the second and fourth notes in a 4:1 diminution pattern?",
          options: ["Chord tones", "Passing tones or neighbor tones", "Leaps", "Only dissonances"],
          correctAnswer: "Passing tones or neighbor tones",
          hints: ["These notes fill in the spaces", "They resolve stepwise"],
        },
        {
          id: "dim4-3",
          type: "identify",
          prompt: "What should generally be consonant on the first and third notes of a 4:1 diminution pattern?",
          options: ["Any note", "Dissonant notes", "Chord tones", "Passing tones"],
          correctAnswer: "Chord tones",
          hints: ["These are the stronger beats within the pattern", "They support the harmony"],
        },
        {
          id: "dim4-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Play a C major chord (C-E-G). Realize it with 4:1 diminution in the soprano. Bass: C. Soprano: C-D-E-F | E-F-G-E.",
          correctAnswer": "Left hand: C. Right hand: C-D-E-F, then E-F-G-E.",
          hints": [
            "The bass note C is held.",
            "The first soprano pattern uses chord tones (C, E) and passing tones (D, F).",
            "The second soprano pattern uses chord tones (E, G) and passing tones (F).",
          ],
        },
        {
          id: "dim4-5-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Play a V-I cadence in C major. Bass: G-C. Realize the soprano with 4:1 diminution. Soprano over G: D-E-F-G | D-E-F-D. Soprano over C: C-D-E-F | C-B-A-C.",
          correctAnswer": "Left hand: G-C. Right hand: D-E-F-G, D-E-F-D over G, then C-D-E-F, C-B-A-C over C.",
          hints": [
            "Focus on using chord tones on the first and third notes of each four-note group.",
            "Use passing tones and small leaps for the other notes.",
            "Listen for the smooth connection between the diminished patterns and the harmony.",
          ],
        },
        {
          id: "dim4-6-melodic",
          type: "play",
          prompt": "MELODIES: Create a 4:1 diminution melody over a sustained C major chord. Use a mix of stepwise motion and small leaps.",
          bassPattern: "C3",
          beatsPerNote: 4,
          tempo: 80,
          correctAnswer": "A melody with four notes per beat, using chord tones, passing tones, and small leaps.",
          hints": [
            "Start with chord tones: C, E, G.",
            "Fill in the gaps with passing tones: D, F.",
            "Introduce small leaps: C to E, E to G.",
            "Ensure the first and third notes of each group are chord tones.",
          ],
        },
      ],
      historicalContext:
        "Advanced diminution techniques, like the 4:1 ratio, were explored by Renaissance and Baroque virtuosos such as Silvestro Ganassi and Bartolomeo Bovicelli. These techniques allowed performers to embellish simple melodies and harmonic progressions with intricate and virtuosic passages. Mastering these diminutions required not only technical skill but also a deep understanding of harmony and melodic construction, enabling improvisers to create elaborate and engaging lines over a given harmonic framework.",
    },
  },
  {
    id: "inter-8-fenaroli-book1",
    title: "Fenaroli Book I: Simple Figured Basses",
    description: "Begin Fenaroli's systematic partimenti method",
    category: "patterns",
    tradition: "italian",
    difficulty: "intermediate",
    level: 3,
    prerequisites: ["inter-7-diminution-4to1"],
    xpReward: 60,
    content: {
      theory:
        "Fenaroli Book I introduces simple figured basses without complex dissonances. Focus on smooth voice leading and proper doubling. These partimenti teach you to think harmonically while maintaining melodic lines in all voices. Prerequisites: You must know the three cadences and the Rule of the Octave before attempting Fenaroli. Book I focuses on basic triads, first inversions, and simple suspensions. The realization of each partimento should prioritize clear melodic lines in each voice and logical harmonic progression. Pay attention to doubling rules (e.g., doubling the root or fifth in root position, avoiding doubling the leading tone).",
      examples: [
        {
          id: "ex-1",
          description: "Fenaroli Book I, No. 1 - Simple ascending bass",
          notation: "Bass: C D E F G A B C | Figures: - 6 6 5 - 6 6 5",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "A3", "B3", "C4"],
          figuredBass: "- 6 6 5 - 6 6 5",
        },
        {
          id: "ex-2",
          description: "Fenaroli Book I, No. 2 - With passing seventh",
          notation: "Bass: C D E F G C | Figures: - 6 6 - 7 -",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "C3"],
          figuredBass: "- 6 6 - 7 -",
        },
        {
          id: "ex-3",
          description: "Fenaroli Book I, No. 5 - Introducing suspensions",
          notation: "Bass: C F G C | Figures: - 4-3 7 -",
          audioPattern: ["C3", "F3", "G3", "C3"],
          figuredBass: "- 4-3 7 -",
        },
        {
          id: "ex-4",
          description: "Fenaroli Book I, No. 8 - Compound Cadence",
          notation: "Bass: C G G C | Figures: - 5/4 7 -",
          audioPattern: ["C3", "G3", "G3", "C3"],
          figuredBass: "- 5/4 7 -",
        },
      ],
      exercises: [
        {
          id: "ex-fen1-1",
          type: "play",
          prompt":
            "Realize Fenaroli Book I, No. 1 with proper voice leading",
          correctAnswer": "Correct realization with smooth voice leading and correct harmonies.",
          hints": [
            "Bass: C-D-E-F-G-A-B-C",
            "Figures: - 6 6 5 - 6 6 5",
            "Apply the Rule of the Octave and inversion principles.",
            "Ensure smooth movement between voices.",
          ],
        },
        {
          id: "ex-fen1-2",
          type: "play",
          prompt": "Realize Fenaroli Book I, No. 5, incorporating the 4-3 suspension.",
          correctAnswer": "Correct realization with the suspension properly prepared, suspended, and resolved.",
          hints": [
            "Bass: C-F-G-C",
            "Figures: - 4-3 7 -",
            "Over F, create a 4-3 suspension (e.g., soprano holds Bb, resolves to A over G bass).",
            "Over G, use a dominant seventh chord (7).",
          ],
        },
        {
          id: "ex-fen1-3",
          type: "play",
          prompt": "Realize Fenaroli Book I, No. 8, focusing on the Compound Cadence.",
          correctAnswer": "Correct realization of the Compound Cadence.",
          hints": [
            "Bass: C-G-G-C",
            "Figures: - 5/4 7 -",
            "The G bass with 5/4 creates the dominant seventh (or similar tension).",
            "The second G with 7 is the dominant seventh chord.",
            "Resolve to C major.",
          ],
        },
      ],
      historicalContext:
        "Fedele Fenaroli (1730-1818) created the most thorough and pedagogical partimenti method, used throughout Europe for over a century. His four-book series progresses from simple figured basses to complex fugal partimenti. Book I is the foundation, focusing on essential harmonic patterns and voice leading principles. Mastering Fenaroli's Book I is considered a crucial step in developing improvisational and compositional skills in the Neapolitan tradition.",
    },
  },

  // ============================================
  // LEVEL 4: ADVANCED PATTERNS
  // ============================================
  {
    id: "adv-1-fenaroli-schema",
    title: "Galant Schema: Fenaroli",
    description: "Master the 7-1-7-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["inter-8-fenaroli-book1"],
    xpReward: 65,
    content: {
      theory:
        "Fenaroli: 7-1-7-1 in the bass with specific upper voice patterns. A sophisticated cadential approach. This schema is characterized by its ascending bass line (7-1) repeated, creating a sense of harmonic tension and release. The harmony typically involves dominant seventh chords and their resolutions, often leading to a strong cadence. The upper voices create melodic interest by moving in contrary motion or creating suspensions against the sustained bass notes. This schema is highly effective for creating dramatic cadences and phrase extensions.",
      examples: [
        {
          id: "fenaroli-schema-ex-1",
          title: "Basic Fenaroli Schema",
          description: "Bass: B-C-B-C (in C major). Harmony: V7 - I - V7 - I",
          notation: "Bass: 7-1-7-1 | Harmony: V7 - I - V7 - I",
          figuredBass: "7/5/3 - 5/3 - 7/5/3 - 5/3",
          audioPattern: ["[B2,B3,D4,F4]", "[C2,C3,E3,G3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "fenaroli-schema-ex-2",
          title: "Fenaroli with Soprano Suspensions",
          description: "Bass: B-C-B-C | Soprano: F-E-F-E (creating suspensions over the dominant).",
          notation: "Bass: 7-1-7-1 | Soprano: 7-6-7-6",
          figuredBass: "7/5/3 - 5/3 - 7/5/3 - 5/3",
          audioPattern: ["[B2,B3,D4,F4]", "[C2,C3,E3,G3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "fenaroli-schema-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Fenaroli schema?",
          options: [
            "Descending stepwise",
            "Ascending then descending",
            "Alternating between two notes (e.g., 7-1-7-1)",
            "Leaping by fourths",
          ],
          correctAnswer: "Alternating between two notes (e.g., 7-1-7-1)",
          hints: ["The pattern repeats a short bass figure", "It creates a strong cadential effect"],
        },
        {
          id: "fenaroli-schema-2",
          type: "identify",
          prompt: "What type of chord is typically prominent in the Fenaroli schema?",
          options: ["Major triads", "Minor triads", "Dominant seventh chords", "Diminished seventh chords"],
          correctAnswer: "Dominant seventh chords",
          hints: ["This schema builds tension", "Dominant sevenths create strong pull towards the tonic"],
        },
        {
          id: "fenaroli-schema-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Fenaroli schema in C major. Bass: B-C-B-C. Harmony: V7 - I - V7 - I. Soprano: F-E-F-E.",
          correctAnswer": "Left hand: B-C-B-C. Right hand: F-E-F-E, with appropriate chord voicings.",
          hints": [
            "Over B, play a G dominant seventh chord (V7).",
            "Over C, play a C major chord (I).",
            "The soprano creates suspensions over the dominant.",
          ],
        },
      ],
      historicalContext:
        "The Fenaroli schema, named after the renowned partimenti theorist Fedele Fenaroli, is a sophisticated cadential pattern used to create harmonic tension and anticipation. Its repeated bass figure (often 7-1-7-1) and emphasis on dominant seventh chords make it highly effective in preparing for a conclusive cadence. This schema demonstrates the Neapolitan focus on building harmonic complexity and dramatic effect within structured frameworks, preparing students for more advanced compositional techniques.",
    },
  },
  {
    id: "adv-2-indugio",
    title: "Galant Schema: Indugio",
    description: "Learn the pedal point delay pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-1-fenaroli-schema"],
    xpReward: 65,
    content: {
      theory:
        "Indugio: A pedal point on 4 with 6 or 6/5 chord, delaying the cadence. Creates suspense and anticipation. The 'Indugio' (Italian for 'delay' or 'pause') schema utilizes a sustained bass note, typically the subdominant (scale degree 4), over which harmonies shift. Often, a first inversion chord (6/3) or a second inversion dominant seventh chord (6/5) is used above the sustained bass. This creates a sense of harmonic suspension and delays the expected resolution, building anticipation for the final cadence. It effectively stretches out the harmonic progression and adds expressive depth.",
      examples: [
        {
          id: "indugio-ex-1",
          title: "Basic Indugio Schema",
          description: "Bass: F (sustained) | Upper voices move through I6 - V/V - IV. (In C major)",
          notation: "Bass: 4 (sustained) | Upper voices: shifting harmonies",
          figuredBass: "Pedal point on 4 with 6/3 or 6/5",
          audioPattern: ["[F2,F3,A3,C4]", "[F2,F3,C4,E4]", "[F2,F3,A3,C4]"],
        },
        {
          id: "indugio-ex-2",
          title: "Indugio with Suspensions",
          description: "Bass: F (sustained) | Upper voices create suspensions over the pedal point.",
          notation: "Bass: 4 (sustained) | Upper voices: suspensions resolving",
          figuredBass: "Pedal point with suspensions",
          audioPattern: ["[F2,F3,A3,C4]", "[F2,F3,Bb4,D5]", "[F2,F3,A3,C4]"],
        },
      ],
      exercises: [
        {
          id: "indugio-1",
          type: "identify",
          prompt: "What does the Italian term 'Indugio' mean in this context?",
          options: ["Sudden resolution", "Rapid ascent", "Delay or pause", "Harmonic complexity"],
          correctAnswer: "Delay or pause",
          hints: ["It refers to stretching out the musical moment", "It creates a sense of waiting"],
        },
        {
          id: "indugio-2",
          type: "identify",
          prompt: "What is the typical bass note used for the pedal point in the Indugio schema?",
          options: ["1 (tonic)", "5 (dominant)", "4 (subdominant)", "2 (supertonic)"],
          correctAnswer: "4 (subdominant)",
          hints: ["This note creates a specific harmonic color when sustained", "It often precedes a dominant preparation"],
        },
        {
          id: "indugio-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Indugio schema in C major. Bass: F (sustained for 4 beats). Upper voices: I6 - V/V - IV. (Example voicing: F-A-C, F-G-B, F-A-C).",
          correctAnswer": "Left hand: Sustained F. Right hand: F-A-C, F-G-B, F-A-C.",
          hints": [
            "The left hand holds the F.",
            "The right hand outlines the harmonies: F-A-C (F major first inversion), F-G-B (G major first inversion, or altered), F-A-C (F major).",
            "Listen for the harmonic suspension.",
          ],
        },
      ],
      historicalContext:
        "The Indugio schema, or 'delay,' is a sophisticated technique used in Neapolitan partimenti to create harmonic suspense and expressive depth. By sustaining a bass note (often the subdominant) and shifting harmonies above it, composers could prolong harmonic tension and anticipation, making the eventual resolution more impactful. This schema highlights the Neapolitan emphasis on expressive voice leading and the manipulation of harmonic rhythm to achieve specific emotional effects.",
    },
  },
  {
    id: "adv-3-jupiter",
    title: "Galant Schema: Jupiter",
    description: "Master the 1-2-4-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-2-indugio"],
    xpReward: 65,
    content: {
      theory:
        "Jupiter: 1-2-4-3 in the bass, named after Mozart's Jupiter Symphony. A majestic opening pattern. This schema is characterized by its ascending bass line (1-2), followed by a descending leap (2 to 4, which is usually a diminished fifth or augmented fourth depending on the key), and finally a descent to the tonic (4-3). The harmony often involves I - V6/3 - Cadential 6/4 - V. Its majestic quality comes from the strong harmonic progressions and the sense of confident arrival. It's often used to open a grand or important movement.",
      examples: [
        {
          id: "jupiter-ex-1",
          title: "Basic Jupiter Schema",
          description: "Bass: C-D-F-E (in C major). Harmony: I - V6/3 - Cadential 6/4 - V",
          notation: "Bass: 1-2-4-3 | Harmony: I - V6/3 - Cadential 6/4 - V",
          figuredBass: "5/3 - 6/3 - 6/4 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "jupiter-ex-2",
          title: "Jupiter with Descending Soprano",
          description: "Bass: C-D-F-E | Soprano: G-A-C-B. Creating contrary motion.",
          notation: "Bass: 1-2-4-3 | Soprano: 5-6-8-7",
          figuredBass: "5/3 - 6/3 - 6/4 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
      ],
      exercises: [
        {
          id: "jupiter-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Jupiter schema?",
          options: ["Descending stepwise", "Ascending then leaping down", "Repeating the same note", "Ascending leaps"],
          correctAnswer: "Ascending then leaping down",
          hints: ["The bass line moves up, then down", "It has a distinctive leap"],
        },
        {
          id: "jupiter-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the Jupiter schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "C-D-F-E"],
          correctAnswer: "C-D-F-E",
          hints: ["Starts on scale degree 1", "Follows the pattern 1-2-4-3"],
        },
        {
          id: "jupiter-3",
          type: "identify",
          prompt: "What quality does the Jupiter schema often impart to a musical passage?",
          options: ["Playfulness and lightness", "Majesty and grandeur", "Tension and suspense", "Melancholy and introspection"],
          correctAnswer: "Majesty and grandeur",
          hints: ["It's named after a grand symphony", "It has a strong, confident sound"],
        },
        {
          id: "jupiter-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Jupiter schema in C major. Bass: C-D-F-E. Harmony: I (5/3) - V6/3 (6/3) - Cadential 6/4 (6/4) - V (5/3). Soprano: G-A-C-B.",
          correctAnswer": "Left hand: C-D-F-E. Right hand: G-A-C-B, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "D bass (V6/3): Play D-F-A (first inversion of G major)",
            "F bass (Cadential 6/4): Play F-A-C (second inversion of C major)",
            "E bass (V): Play E-G-B (or E-G-D)",
          ],
        },
      ],
      historicalContext:
        "The Jupiter schema, famously featured in the finale of Mozart's Symphony No. 41 ('Jupiter'), exemplifies the majestic and grand character often found in late Galant and early Classical music. Its distinctive bass line (1-2-4-3) combined with strong harmonic progressions allows for powerful openings and climactic moments. The schema's name reflects its regal and triumphant quality, making it a recognizable and impactful pattern for composers and listeners alike.",
    },
  },
  {
    id: "adv-4-aprile",
    title: "Galant Schema: Aprile",
    description: "Learn the 4-3-7-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-3-jupiter"],
    xpReward: 65,
    content: {
      theory:
        "Aprile: 4-3-7-1 in the bass, a sophisticated cadential pattern. This schema is characterized by its descending bass line (4-3), followed by a strong dominant preparation (7-1). The harmony typically involves progressions that emphasize the dominant seventh chord, leading to a clear resolution to the tonic. It's a common way to approach the end of a phrase or section, providing a sense of finality and harmonic satisfaction. The upper voices often move in stepwise contrary motion to create smooth voice leading.",
      examples: [
        {
          id: "aprile-ex-1",
          title: "Basic Aprile Schema",
          description: "Bass: F-E-B-C (in C major). Harmony: IV - V6/3 - V7 - I",
          notation: "Bass: 4-3-7-1 | Harmony: IV - V6/3 - V7 - I",
          figuredBass: "5/3 - 6/3 - 7/5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "aprile-ex-2",
          title: "Aprile with Soprano Descent",
          description: "Bass: F-E-B-C | Soprano: A-G-D-E. Creating contrary motion.",
          notation: "Bass: 4-3-7-1 | Soprano: 6-5-2-3",
          figuredBass: "5/3 - 6/3 - 7/5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "aprile-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Aprile schema?",
          options: [
            "Ascending stepwise",
            "Descending stepwise, then dominant preparation",
            "Repeating bass notes",
            "Leaping bass line",
          ],
          correctAnswer: "Descending stepwise, then dominant preparation",
          hints: ["The first part descends, the second part prepares the tonic", "Think of the scale degrees 4-3-7-1"],
        },
        {
          id: "aprile-2",
          type: "identify",
          prompt: "What type of chord is typically prominent in the Aprile schema, leading to the final resolution?",
          options: ["Tonic chord", "Subdominant chord", "Dominant seventh chord", "Diminished chord"],
          correctAnswer: "Dominant seventh chord",
          hints: ["This schema is about preparing a strong cadence", "Dominant seventh chords are key to cadences"],
        },
        {
          id: "aprile-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Aprile schema in C major. Bass: F-E-B-C. Harmony: IV (5/3) - V6/3 (6/3) - V7 (7/5/3) - I (5/3). Soprano: A-G-D-E.",
          correctAnswer": "Left hand: F-E-B-C. Right hand: A-G-D-E, with appropriate chord voicings.",
          hints": [
            "F bass (IV): Play F-A-C",
            "E bass (V6/3): Play E-G-B (first inversion of C major)",
            "B bass (V7): Play B-D-F-A",
            "C bass (I): Play C-E-G",
          ],
        },
      ],
      historicalContext:
        "The Aprile schema, named after the Italian composer Giuseppe Aprile, is a sophisticated cadential pattern commonly found in Galant and Classical music. Its structure, featuring a descending bass line followed by a strong dominant preparation (4-3-7-1), makes it highly effective for creating a sense of harmonic finality. This schema exemplifies the Neapolitan tradition of developing clear, memorable cadential formulas that provide both structural integrity and expressive weight to musical compositions.",
    },
  },
  {
    id: "adv-5-pastorella",
    title: "Galant Schema: Pastorella",
    description: "Master the pastoral 1-5-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-4-aprile"],
    xpReward: 65,
    content: {
      theory:
        "Pastorella: 1-5-1 with drone bass, evoking pastoral scenes. Often in 6/8 or 12/8 time. This schema is characterized by a sustained or repeated bass note (often the tonic or dominant) while the upper voices create a simple, folk-like melody. The harmony often involves major triads and avoids complex dissonances, contributing to its serene and idyllic character. The drone effect enhances the pastoral atmosphere. It's frequently found in character pieces, operatic interludes, or movements depicting nature.",
      examples: [
        {
          id: "pastorella-ex-1",
          title: "Basic Pastorella Schema",
          description: "Bass: C (sustained) | Upper voices: simple melody evoking a drone effect.",
          notation: "Bass: 1 (sustained) | Upper voices: folk-like melody",
          figuredBass: "Drone on 1",
          audioPattern: ["[C3,C4,E4,G4]", "[C3,C4,G4,C5]", "[C3,C4,E4,G4]"],
        },
        {
          id: "pastorella-ex-2",
          title: "Pastorella with Drone on Dominant",
          description: "Bass: G (sustained) | Upper voices: simple melody evoking a drone effect.",
          notation: "Bass: 5 (sustained) | Upper voices: folk-like melody",
          figuredBass: "Drone on 5",
          audioPattern: ["[G3,G4,B4,D5]", "[G3,G4,D5,G5]", "[G3,G4,B4,D5]"],
        },
      ],
      exercises: [
        {
          id: "pastorella-1",
          type: "identify",
          prompt: "What musical character does the Pastorella schema typically evoke?",
          options: [
            "Dramatic intensity",
            "Pastoral serenity and simplicity",
            "Urban hustle and bustle",
            "Mysterious suspense",
          ],
          correctAnswer: "Pastoral serenity and simplicity",
          hints: ["The name itself suggests a rural theme", "Simple melodies and harmonies contribute to this"],
        },
        {
          id: "pastorella-2",
          type: "identify",
          prompt: "What is a common feature of the bass line in the Pastorella schema?",
          options: [
            "Rapid ascending scales",
            "A sustained or repeated note (drone)",
            "Complex leaps",
            "Descending arpeggios",
          ],
          correctAnswer: "A sustained or repeated note (drone)",
          hints: ["This creates a stable foundation", "It allows the upper voices to be more melodic"],
        },
        {
          id: "pastorella-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Pastorella schema in C major. Bass: C (sustained for 4 beats). Upper voices: C-E-G, C-G-C, C-E-G.",
          correctAnswer": "Left hand: Sustained C. Right hand: C-E-G, C-G-C, C-E-G.",
          hints": [
            "The left hand holds the C.",
            "The right hand plays simple, consonant harmonies above the drone.",
            "Focus on creating a calm, pastoral atmosphere.",
          ],
        },
        {
          id: "pastorella-4-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Pastorella schema in G major. Bass: G (sustained for 4 beats). Upper voices: G-B-D, G-D-G, G-B-D.",
          correctAnswer": "Left hand: Sustained G. Right hand: G-B-D, G-D-G, G-B-D.",
          hints": [
            "The left hand holds the G.",
            "The right hand plays simple, consonant harmonies above the drone.",
            "Consider using a slightly slower tempo or a lighter touch to enhance the pastoral feel.",
          ],
        },
      ],
      historicalContext:
        "The Pastorella schema, evoking scenes of rural life, was a popular device in Baroque and Galant music for creating a serene and idyllic atmosphere. Composers like Handel and Bach utilized this schema in arias, instrumental movements, and vocal works to depict pastoral settings or moments of tranquility. Its simplicity, characterized by a drone bass and folk-like melodies, made it highly effective in conveying a sense of peace and innocence.",
    },
  },
  {
    id: "adv-6-quieszenza",
    title: "Galant Schema: Quieszenza",
    description: "Learn the 4-3-2-1 closing pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-5-pastorella"],
    xpReward: 65,
    content: {
      theory:
        "Quieszenza: 4-3-2-1 in the bass, a gentle closing pattern. Creates a sense of peaceful resolution. This schema is characterized by a descending bass line (4-3-2-1) that leads smoothly to the tonic. The harmony typically involves progressions that resolve directly to the tonic chord, creating a sense of finality and rest. It's often used at the end of a phrase or section to provide a gentle conclusion. The upper voices usually follow the bass in contrary motion or create stepwise resolutions, reinforcing the sense of peace.",
      examples: [
        {
          id: "quieszenza-ex-1",
          title: "Basic Quieszenza Schema",
          description: "Bass: F-E-D-C (in C major). Harmony: IV-iii-ii-I. The descending bass creates a gentle resolution.",
          bassPattern: "F3-E3-D3-C3",
          audioPattern: ["F3", "E3", "D3", "C3"],
        },
      ],
      exercises: [
        {
          id: "quieszenza-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Quieszenza schema?",
          options: ["Ascending stepwise", "Descending stepwise", "Leaping by fourths", "Alternating notes"],
          correctAnswer: "Descending stepwise",
          hints: ["Quieszenza means 'rest' or 'calm'", "The bass line moves smoothly downwards"],
        },
        {
          id: "quieszenza-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the Quieszenza schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "F-E-D-C"],
          correctAnswer: "F-E-D-C",
          hints: ["Starts on scale degree 4", "Descends stepwise to the tonic"],
        },
        {
          id: "quieszenza-3",
          type: "identify",
          prompt: "What feeling does the Quieszenza schema typically evoke?",
          options: ["Excitement and energy", "Tension and anticipation", "Peaceful resolution and closure", "Sudden surprise"],
          correctAnswer: "Peaceful resolution and closure",
          hints: ["It's a closing pattern", "It brings a sense of calm"],
        },
        {
          id: "quieszenza-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Quieszenza schema in C major. Bass: F-E-D-C. Harmony: IV (5/3) - iii6/3 (6/3) - ii (5/3) - I (5/3). Soprano: A-G-F-E.",
          correctAnswer": "Left hand: F-E-D-C. Right hand: A-G-F-E, with appropriate chord voicings.",
          hints": [
            "F bass (IV): Play F-A-C",
            "E bass (iii6/3): Play E-G-B (first inversion of C major)",
            "D bass (ii): Play D-F-A",
            "C bass (I): Play C-E-G",
          ],
        },
      ],
      historicalContext:
        "The Quieszenza schema, meaning 'rest' or 'calm,' is a fundamental closing pattern in Baroque and Galant music. Its smooth descending bass line (4-3-2-1) and direct resolution to the tonic create a strong sense of finality and peace. Composers utilized this schema to bring phrases and entire pieces to a gentle and satisfying conclusion, reinforcing the harmonic structure and providing a sense of closure for the listener.",
    },
  },
  {
    id: "adv-7-deceptive-cadence",
    title: "Galant Schema: Deceptive Cadence",
    description: "Master the V-vi surprise resolution",
    category: "schemata",
    tradition: "both",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-6-quieszenza"],
    xpReward: 60,
    content: {
      theory:
        "Deceptive Cadence: V-vi instead of expected V-I. Creates surprise and extends the phrase. A deceptive cadence occurs when the expected resolution to the tonic (I) after the dominant (V) is subverted, and the harmony moves instead to the submediant (vi). This creates a sense of harmonic surprise and often leads to a continuation of the musical phrase rather than a definitive ending. The most common deceptive resolution is V-vi, but other resolutions like V-IV or V-ii can also be considered deceptive in certain contexts.",
      examples: [
        {
          id: "deceptive-ex-1",
          title: "Basic Deceptive Cadence",
          description":
            "In C major: G major (V) resolving to A minor (vi) instead of C major (I).",
          notation": "Bass: G-A | Harmony: V - vi",
          figuredBass": "5/3 - 5/3",
          audioPattern": ["[G2,G3,B3,D4]", "[A2,A3,C4,E4]"],
        },
        {
          id: "deceptive-ex-2",
          title: "Deceptive Cadence with Leading Tone",
          description":
            "Bass: G-A | Soprano: B-C. The leading tone (B) resolves up to C, but the bass moves to A, creating the vi chord.",
          notation": "Bass: 7-6 | Soprano: 7-1",
          figuredBass": "7/3 - 5/3",
          audioPattern": ["[G2,G3,B3,F4]", "[A2,A3,C4,E4]"],
        },
      ],
      exercises: [
        {
          id: "deceptive-1",
          type: "identify",
          prompt: "What is the most common harmonic movement in a deceptive cadence?",
          correctAnswer: "V-vi",
          options: ["V-I", "V-vi", "IV-V", "I-IV"],
          hints: ["It's a 'deception' because it doesn't go where expected", "The submediant chord is often the surprise"],
        },
        {
          id: "deceptive-2",
          type: "identify",
          prompt: "What effect does a deceptive cadence typically create?",
          correctAnswer: "Surprise and phrase extension",
          options: ["A sense of finality", "Surprise and phrase extension", "Sudden energy", "Calm resolution"],
          hints: ["It avoids the expected ending", "It often leads to more music"],
        },
        {
          id: "deceptive-3-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize a deceptive cadence in C major. Bass: G-A. Harmony: V - vi. Soprano: B-C.",
          correctAnswer": "Left hand: G-A. Right hand: B-C, with appropriate chord voicings (G major triad then A minor chord).",
          hints": [
            "Over G, play a G major chord (G-B-D).",
            "Over A, play an A minor chord (A-C-E).",
            "Listen for the unexpected harmonic shift.",
          ],
        },
      ],
      historicalContext:
        "The deceptive cadence is a fundamental tool for composers to create harmonic interest and rhythmic flow in music. By subverting listener expectations, composers can extend phrases, build tension, and add expressive nuance. This technique is crucial for developing musical ideas beyond simple, predictable structures, allowing for more sophisticated and engaging compositions. It's a staple in the vocabulary of composers from the Baroque era through the Classical period and beyond.",
    },
  },
  {
    id: "adv-8-evaded-cadence",
    title: "Galant Schema: Evaded Cadence",
    description: "Learn practical cadence evasion techniques",
    category: "schemata",
    tradition: "both",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-7-deceptive-cadence"],
    xpReward: 60,
    content: {
      theory:
        "Evaded Cadence: The expected cadence is avoided through various techniques, extending the phrase. Cadence evasion involves disrupting the expected harmonic flow, often by substituting chords, altering voice leading, or using deceptive resolutions in unexpected ways. This technique is used to prolong harmonic tension, create surprise, or guide the listener through more complex harmonic paths. It prevents the music from becoming too predictable and adds sophistication to the composition. Common methods include using secondary dominants, altered chords, or unexpected chord progressions.",
      examples: [
        {
          id: "evaded-ex-1",
          title: "Evading V-I with a secondary dominant",
          description":
            "Instead of V-I, use V/V-V-I. The V/V (D7 in C major) leads to G7 (V), which then resolves to C.",
          notation": "Bass: G-D-G-C | Harmony: V - V/V - V - I",
          figuredBass": "5/3 - 7 - 7/5/3 - 5/3",
          audioPattern": ["[G2,G3,B3,D4]", "[D2,D3,F3,A3]", "[G2,G3,B3,F4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "evaded-ex-2",
          title: "Evading V-I with altered chords",
          description": "Using chromatic alterations to delay the resolution.",
          notation": "Bass: G-G | Harmony: V - altered chord",
          figuredBass": "5/3 - altered figure",
          audioPattern": ["[G2,G3,B3,D4]", "[G2,G3,Bb4,Eb4]"],
        },
      ],
      exercises: [
        {
          id: "evaded-1",
          type: "identify",
          prompt: "What is the primary goal of cadence evasion?",
          options: ["To end the music quickly", "To create predictability", "To avoid the expected resolution and extend the phrase", "To simplify the harmony"],
          correctAnswer: "To avoid the expected resolution and extend the phrase",
          hints: ["It's about 'evading' the expected ending", "It keeps the music going"],
        },
        {
          id: "evaded-2",
          type: "identify",
          prompt: "Which of the following is a common technique used in cadence evasion?",
          options: ["Using only consonant intervals", "Repeating the tonic chord excessively", "Employing secondary dominants or altered chords", "Ending the phrase on the subdominant"],
          correctAnswer: "Employing secondary dominants or altered chords",
          hints: ["These techniques create harmonic twists and turns", "They lead the ear away from the expected path"],
        },
        {
          id: "evaded-3-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize a cadence evasion in C major. Bass: G-D-G-C. Harmony: V - V/V - V - I. Soprano: B-F-F-E.",
          correctAnswer": "Left hand: G-D-G-C. Right hand: B-F-F-E, with appropriate chord voicings.",
          hints": [
            "Over the first G, play a G major chord (V).",
            "Over D, play a D dominant seventh chord (V/V).",
            "Over the second G, play a G dominant seventh chord (V7).",
            "Resolve to C major (I).",
            "Notice how the D7 temporarily shifts the harmonic focus.",
          ],
        },
      ],
      historicalContext:
        "Cadence evasion is a sophisticated compositional technique that adds depth and intrigue to music. By masterfully avoiding predictable resolutions, composers can create harmonic surprise, extend phrases, and guide the listener through more complex harmonic paths. This technique is essential for composers aiming to move beyond simple harmonic formulas and craft more engaging and memorable musical experiences.",
    },
  },
  {
    id: "adv-9-passo-indietro",
    title: "Galant Schema: Passo Indietro",
    description: "Master the backward step pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-8-evaded-cadence"],
    xpReward: 65,
    content: {
      theory:
        "Passo Indietro: A step backward in the bass before moving forward, creating rhythmic interest. This schema involves a momentary harmonic or melodic 'step back' before continuing the progression. For example, after reaching a dominant chord, instead of resolving to the tonic, the bass might step back to a related chord (like the subdominant) before proceeding. This creates a subtle harmonic detour, adding rhythmic variety and harmonic richness. It prevents the music from becoming too predictable and can create moments of harmonic suspense.",
      examples: [
        {
          id: "passo-indietro-ex-1",
          title: "Basic Passo Indietro",
          description":
            "In C major: G (V) -> F (IV) -> G (V) -> C (I). The step from G back to F before returning to G is the 'passo indietro'.",
          notation": "Bass: G-F-G-C | Harmony: V - IV - V - I",
          figuredBass": "5/3 - 5/3 - 5/3 - 5/3",
          audioPattern": ["[G2,G3,B3,D4]", "[F2,F3,A3,C4]", "[G2,G3,B3,D4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "passo-indietro-ex-2",
          title: "Passo Indietro with Deceptive Resolution",
          description":
            "Bass: G-A-G-C | Harmony: V - vi - V - I. The step to vi before returning to V is a deceptive resolution.",
          notation": "Bass: 7-6-7-1 | Harmony: V - vi - V - I",
          figuredBass": "7/3 - 5/3 - 7/3 - 5/3",
          audioPattern": ["[G2,G3,B3,F4]", "[A2,A3,C4,E4]", "[G2,G3,B3,D4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "passo-indietro-1",
          type: "identify",
          prompt": "What does 'Passo Indietro' mean in music?",
          options": ["Forward step", "Backward step", "Leap", "Stasis"],
          correctAnswer": "Backward step",
          hints": ["It refers to a momentary retreat in the harmonic progression", "It creates rhythmic interest"],
        },
        {
          id: "passo-indietro-2",
          type: "identify",
          prompt": "What effect does the Passo Indietro schema typically create?",
          options": ["Predictability", "Rhythmic interest and harmonic surprise", "Sudden ending", "Simple resolution"],
          correctAnswer": "Rhythmic interest and harmonic surprise",
          hints": ["It breaks up the expected flow", "It makes the music more engaging"],
        },
        {
          id: "passo-indietro-3-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize a Passo Indietro in C major. Bass: G-F-G-C. Harmony: V - IV - V - I. Soprano: B-A-B-E.",
          correctAnswer": "Left hand: G-F-G-C. Right hand: B-A-B-E, with appropriate chord voicings.",
          hints": [
            "Over G, play a G major chord (V).",
            "Over F, play an F major chord (IV).",
            "Return to G major (V).",
            "Resolve to C major (I).",
            "Notice how the brief move to IV before returning to V adds interest.",
          ],
        },
      ],
      historicalContext:
        "The Passo Indietro schema, or 'backward step,' is a subtle yet effective technique for adding rhythmic and harmonic interest to musical phrases. By momentarily stepping back from the expected harmonic path before resuming forward motion, composers can create moments of harmonic surprise and rhythmic vitality. This schema demonstrates a sophisticated understanding of harmonic flow and the manipulation of expectations to create more engaging and memorable musical experiences.",
    },
  },
  {
    id: "adv-10-german-griffe-2",
    title: "German Griffe: Sequential Patterns",
    description: "Learn Adlung's 28 sequential voice-leading patterns",
    category: "patterns",
    tradition: "german",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-9-passo-indietro"],
    xpReward: 65,
    content: {
      theory:
        "Adlung's patterns: scalar, sequential, and cadential modules. Learn to vary and recombine these formulas. Jacob Adlung's 'Anweisung zum Fantasieren' (c. 1726-27) provides a systematic approach to improvisation through a collection of 28 sequential patterns. These patterns, often based on scalar or sequential movements, provide templates for creating harmonic and melodic material. They are designed to be varied and recombined, allowing for flexibility and creativity within a structured framework. Mastering these patterns is key to fluent improvisation in the German tradition.",
      examples: [
        {
          id: "griffe2-ex-1",
          title: "Adlung Pattern: Scalar Sequence",
          description: "A pattern based on ascending or descending scales, repeated in sequence.",
          notation: "Example: Ascending scale fragment repeated.",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[E3,E4,G4,B4]"],
        },
        {
          id: "griffe2-ex-2",
          title: "Adlung Pattern: Cadential Module",
          description: "A pattern specifically designed to lead to a cadence.",
          notation: "Example: A sequence leading to V-I.",
          audioPattern: ["[G3,G4,B4,D5]", "[C3,C4,E4,G4]"],
        },
      ],
      exercises: [
        {
          id: "griffe2-1",
          type: "identify",
          prompt: "Who developed the 28 sequential voice-leading patterns for German Griffe?",
          correctAnswer: "Jacob Adlung",
          options: ["Johann Sebastian Bach", "Jacob Adlung", "Dietrich Buxtehude", "Johann Pachelbel"],
          hints: ["He wrote a treatise on improvisation", "His work systematized these patterns"],
        },
        {
          id: "griffe2-2",
          type: "identify",
          prompt: "What is the purpose of Adlung's 28 patterns?",
          options: ["To dictate exact compositions", "To provide templates for improvisation", "To teach music theory", "To simplify rhythmic notation"],
          correctAnswer: "To provide templates for improvisation",
          hints: ["They are designed for creating music spontaneously", "They offer building blocks"],
        },
        {
          id: "griffe2-3-keyboard",
          type: "play",
          prompt": "KEYBOARD: Practice one of Adlung's scalar sequential patterns. Choose a pattern and realize it in C major, ensuring smooth voice leading.",
          correctAnswer": "Correct realization of an Adlung scalar pattern.",
          hints": [
            "Refer to Adlung's 'Anweisung zum Fantasieren' for examples.",
            "Focus on the sequential repetition and smooth voice leading.",
            "Ensure the harmony is consistent with the pattern.",
          ],
        },
      ],
      historicalContext:
        "Jacob Adlung's 'Anweisung zum Fantasieren' (c. 1726-27) represents a significant contribution to German keyboard pedagogy, offering a systematic approach to improvisation through a collection of 28 sequential patterns. These patterns provided aspiring musicians with concrete models for constructing harmonic progressions and melodic lines, bridging the gap between theoretical knowledge and practical application. Adlung's work ensured that the art of improvisation remained a core component of musical training in the German tradition.",
    },
  },
  {
    id: "adv-11-diminution-8to1",
    title: "Advanced Diminutions: 8:1 Ratio",
    description: "Master complex diminutions (Ganassi/Bovicelli style)",
    category: "diminutions",
    tradition: "both",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-10-german-griffe-2"],
    xpReward: 70,
    content: {
      theory:
        "8:1 diminution: Complex rhythmic divisions with high proportional use. Requires advanced technique and musical taste. This level of diminution involves fitting eight notes into the space of a single beat or original note value. It demands exceptional technical facility, precise rhythmic control, and a sophisticated understanding of melodic contour and harmonic implication. The performer must skillfully navigate rapid scalar passages, arpeggios, ornaments, and leaps while ensuring that the underlying harmony is still perceptible and that the musical line maintains coherence and expressive intent. This is the pinnacle of diminution technique, often associated with virtuosic instrumental music.",
      examples: [
        {
          id: "ex-1",
          description: "8:1 Diminution over a C major chord",
          notation: "Bass: C | Soprano: rapid scalar passage filling the beat",
          audioPattern: ["[C3,C4,E4,G4]", "[C4,D4,E4,F4,G4,A4,B4,C5]"],
        },
        {
          id: "ex-2",
          description: "8:1 Diminution over a V-I cadence",
          notation: "Bass: G-C | Soprano over G: rapid arpeggio and scalar figures | Soprano over C: rapid scalar passage",
          audioPattern: ["[G3,G4,B4,D5]", "[G4,A4,B4,C5,D5,E5,F5,G5]", "[C3,C4,E4,G4]", "[C4,D4,E4,F4,G4,A4,B4,C5]"],
        },
      ],
      exercises: [
        {
          id: "dim8-1",
          type: "identify",
          prompt: "What is the characteristic of 8:1 diminution?",
          options: ["One note per beat", "Two notes per beat", "Four notes per beat", "Eight notes per beat"],
          correctAnswer: "Eight notes per beat",
          hints: ["The ratio is 8:1", "This involves very rapid note values"],
        },
        {
          id: "dim8-2",
          type: "identify",
          prompt: "What skills are essential for mastering 8:1 diminution?",
          options: ["Slow tempo and simple melodies", "Exceptional technical facility and rhythmic precision", "Basic understanding of harmony", "Limited melodic range"],
          correctAnswer: "Exceptional technical facility and rhythmic precision",
          hints: ["This is a highly virtuosic technique", "It requires fine control over speed and rhythm"],
        },
        {
          id: "dim8-3-keyboard",
          type: "play",
          prompt": "KEYBOARD: Attempt to play a C major scale fragment in 8:1 diminution over a sustained C bass note. Bass: C. Soprano: C-D-E-F-G-A-B-C.",
          correctAnswer": "A rapid scalar passage of eight notes per beat.",
          hints": [
            "Practice slowly first, gradually increasing speed.",
            "Focus on clarity and evenness of articulation.",
            "Ensure each note is clearly articulated.",
          ],
        },
      ],
      historicalContext:
        "Renaissance composers like Silvestro Ganassi and Bartolomeo Bovicelli were pioneers in exploring complex diminutions, pushing the boundaries of instrumental virtuosity. Their treatises showcased intricate scalar passages, arpeggios, and ornaments, laying the groundwork for the highly ornamented styles of the Baroque era. Mastering these diminutions allowed musicians to transform simple melodies into dazzling displays of technical prowess and artistic expression.",
    },
  },
  {
    id: "adv-12-fenaroli-book2-3",
    title: "Fenaroli Books II-III: Complex Figured Basses",
    description: "Progress to more sophisticated partimenti",
    category: "patterns",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-11-diminution-8to1"],
    xpReward: 75,
    content: {
      theory:
        "Fenaroli Books II-III introduce complex suspensions, seventh chords, and chromatic passages. Requires mastery of voice leading. Book II focuses on more elaborate suspensions and dissonances. Book III expands upon this by introducing modulation and chromatic harmony. These partimenti prepare you for fugal writing. Book II delves into more intricate dissonances, including chains of suspensions and more complex chromatic alterations. Book III expands upon this by introducing modulatory techniques and chromatic harmony, preparing the student for the complexities of fugal composition. The partimenti in these books demand a high level of improvisational skill and theoretical understanding.",
      examples: [
        {
          id: "ex-1",
          description: "Fenaroli Book II, No. 1 - Chain of suspensions",
          notation: "Bass: C F G C | Figures: - 9-8 4-3 7 -",
          audioPattern: ["C3", "F3", "G3", "C3"],
          figuredBass: "- 9-8 4-3 7 -",
        },
        {
          id: "ex-2",
          description: "Fenaroli Book II, No. 10 - Seventh chords",
          notation: "Bass: C D E F G C | Figures: 7 6/5 7 6/5 7 -",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "C3"],
          figuredBass: "7 6/5 7 6/5 7 -",
        },
        {
          id: "ex-3",
          description: "Fenaroli Book III, No. 1 - Modulation to dominant",
          notation: "Bass: C C# D Eb E F F# G | Figures: - #6 6 b6 6 6 #6 -",
          audioPattern: ["C3", "C#3", "D3", "Eb3", "E3", "F3", "F#3", "G3"],
          figuredBass: "- #6 6 b6 6 6 #6 -",
        },
      ],
      exercises: [
        {
          id: "ex-fen1-2",
          type: "play",
          prompt": "Realize Fenaroli Book II, No. 1, focusing on the chain of suspensions.",
          correctAnswer": "Correct realization with smooth voice leading and properly executed suspensions.",
          hints": [
            "Bass: C-F-G-C",
            "Figures: - 9-8 4-3 7 -",
            "Pay close attention to the preparation, suspension, and resolution of each dissonant interval.",
            "Ensure the voice leading remains logical and melodious.",
          ],
        },
        {
          id: "ex-fen1-3",
          type: "play",
          prompt": "Realize Fenaroli Book II, No. 10, incorporating seventh chords.",
          correctAnswer": "Correct realization with appropriate seventh chord voicings and resolutions.",
          hints": [
            "Bass: C-D-E-F-G-C",
            "Figures: 7 6/5 7 6/5 7 -",
            "Understand the function of each seventh chord (e.g., dominant seventh, secondary sevenths).",
            "Resolve dissonances correctly.",
          ],
        },
        {
          id: "ex-fen2-1",
          type: "play",
          prompt": "Realize Fenaroli Book III, No. 1, navigating the modulation to the dominant.",
          correctAnswer": "Correct realization demonstrating understanding of modulation and chromatic harmony.",
          hints": [
            "Bass: C-C#-D-Eb-E-F-F#-G",
            "Figures: - #6 6 b6 6 6 #6 -",
            "Identify the pivot chords and the target key (G major).",
            "Pay attention to chromatic alterations and voice leading.",
          ],
        },
      ],
      historicalContext:
        "Fenaroli Books II and III represent the intermediate stage of Neapolitan partimenti training. These books progressively introduce more complex harmonic devices, including intricate suspensions, various seventh chords, and modulations. Students who successfully navigated these partimenti gained a profound understanding of voice leading and harmonic function, preparing them for the rigorous demands of fugal composition and advanced improvisation. Many professional musicians considered mastery of these books essential for their craft.",
    },
  },

  // ============================================
  // LEVEL 5: MASTERY
  // ============================================
  {
    id: "mast-1-fenaroli-book4",
    title: "Fenaroli Book IV: Advanced Partimenti",
    description: "Master the most challenging partimenti",
    category: "patterns",
    tradition: "italian",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["adv-12-fenaroli-book2-3"],
    xpReward: 100,
    content: {
      theory:
        "Fenaroli Book IV: The pinnacle of partimenti pedagogy. Complex modulations, chromatic harmony, and sophisticated voice leading. These partimenti are essentially fugues in bass-line form. Book IV was intended only for advanced students preparing for professional careers as composers and maestri di cappella. The partimenti in Book IV often feature intricate fugal subjects embedded within the bass line, requiring the realization to include counter-subjects and episodes. They demand a deep understanding of counterpoint, harmony, and modulation, preparing students for the highest levels of musical composition.",
      examples: [
        {
          id: "ex-1",
          description: "Fenaroli Book IV, No. 1 - Fugal partimento",
          notation: "Bass: C G C D E F G C | Figures: - - - 6 6 6/5 7 -",
          audioPattern: ["C3", "G3", "C3", "D3", "E3", "F3", "G3", "C3"],
          figuredBass: "- - - 6 6 6/5 7 -",
        },
        {
          id: "ex-2",
          description: "Fenaroli Book IV, No. 5 - Chromatic modulation",
          notation: "Bass: C C# D Eb E F F# G | Figures: - #6 6 b6 6 6 #6 -",
          audioPattern: ["C3", "C#3", "D3", "Eb3", "E3", "F3", "F#3", "G3"],
          figuredBass: "- #6 6 b6 6 6 #6 -",
        },
      ],
      exercises: [
        {
          id: "ex-fen4-1",
          type: "play",
          prompt": "Realize Fenaroli Book IV, No. 1, treating it as a fugal exposition.",
          correctAnswer": "A realization that effectively presents and develops a fugal subject within the partimento.",
          hints": [
            "Identify the implied subject and answer.",
            "Develop counter-subjects and episodes.",
            "Maintain contrapuntal integrity throughout.",
            "This requires advanced knowledge of fugal writing.",
          ],
        },
      ],
      historicalContext:
        "Book IV represents the highest level of Neapolitan pedagogy. Students who mastered this book were considered ready to compose operas and sacred music. Bellini, Mercadante, and other great composers studied from this book. It is the culmination of the partimenti tradition, demanding not just harmonic realization but also contrapuntal and compositional ingenuity.",
    },
  },
  {
    id: "mast-2-fugal-exposition",
    title: "Fugal Improvisation: Exposition",
    description: "Learn to improvise fugal expositions",
    category: "improvisation",
    tradition: "german",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-1-fenaroli-book4"],
    xpReward: 120,
    content: {
      theory:
        "Fugal exposition: Subject, answer, countersubject. Learn the rules of tonal answers and invertible counterpoint. The exposition is the initial statement of the fugue's main theme (subject) and its subsequent presentation in the dominant key (answer), accompanied by a melodic line that complements the subject (countersubject). Mastering tonal answers (where the answer closely imitates the subject but adjusts intervals to fit the new key) and understanding invertible counterpoint (where melodic lines can be swapped without creating harmonic clashes) are crucial for improvising coherent fugal expositions.",
      examples: [
        {
          id: "ex-1",
          description: "Improvise a fugal exposition in C major. Subject: C-D-E-F-G. Answer: G-A-B-C-D.",
          notation: "Subject and Answer presented",
          audioPattern: ["C3-D3-E3-F3-G3", "G3-A3-B3-C4-D4"],
        },
      ],
      exercises: [
        {
          id: "fugue-exp-1",
          type: "play",
          prompt": "Improvise a fugal exposition in C major. Create a simple subject and a tonal answer.",
          correctAnswer": "A coherent fugal exposition with a subject, tonal answer, and basic countersubject.",
          hints": [
            "First, create a memorable subject.",
            "Then, determine a tonal answer (adjusting intervals for the dominant key).",
            "Finally, improvise a simple countersubject.",
          ],
        },
      ],
      historicalContext:
        "The ability to improvise fugal expositions was once a fundamental skill for keyboard players, particularly organists, in the Baroque and Classical periods. Composers like J.S. Bach were renowned for their improvisational prowess, often extemporizing complex fugues. Reviving this lost art allows modern musicians to engage more deeply with the contrapuntal mastery of past eras.",
    },
  },
  {
    id: "mast-3-fugal-episodes",
    title: "Fugal Improvisation: Episodes",
    description: "Master sequential episodes and modulations",
    category: "improvisation",
    tradition: "german",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-2-fugal-exposition"],
    xpReward: 120,
    content: {
      theory:
        "Episodes: Sequential passages that modulate to new keys. Use fragments of the subject in sequence. Fugal episodes are transitional sections that often modulate between keys, typically using material derived from the fugue's subject or countersubject. They serve to develop the musical ideas, create harmonic interest, and bridge different entries of the main themes. Improvising effective episodes requires fluency in modulation and the ability to manipulate thematic fragments in sequential patterns.",
      examples: [
        {
          id: "ex-1",
          description: "Improvise a fugal episode modulating from C major to G major.",
          notation: "Sequential use of subject fragment",
          audioPattern: ["[C4,D4,E4]", "[D4,E4,F4]", "[E4,F4,G4]"],
        },
      ],
      exercises: [
        {
          id: "fugue-ep-1",
          type: "play",
          prompt": "Improvise a fugal episode following a C major exposition, modulating to G major.",
          correctAnswer": "A coherent episode that modulates smoothly to the dominant key.",
          hints": [
            "Use fragments of the subject or countersubject.",
            "Employ sequences to facilitate modulation.",
            "Ensure harmonic stability in the new key before further development.",
          ],
        },
      ],
      historicalContext:
        "Fugal episodes are essential for the development and coherence of a fugue. They allow composers to explore harmonic possibilities and create dynamic contrast within the contrapuntal texture. Improvising episodes requires a deep understanding of sequential techniques and modulation, skills honed through rigorous training in partimenti and fugal writing.",
    },
  },
  {
    id: "mast-4-imitazione",
    title: "Imitazione: Imitative Counterpoint",
    description: "Learn Italian imitative improvisation techniques",
    category: "improvisation",
    tradition: "italian",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-3-fugal-episodes"],
    xpReward: 120,
    content: {
      theory:
        "Imitazione: Free imitative counterpoint without strict fugal rules. More flexible and expressive than German fugue. Imitazione refers to the technique of introducing a melodic idea (subject) in one voice and then having other voices imitate it, either exactly or rhythmically altered. Unlike strict fugue, Imitazione allows for greater freedom in voice leading, harmonic choices, and thematic development. This technique is characteristic of the Italian style, emphasizing melodic grace and expressiveness.",
      examples: [
        {
          id: "ex-1",
          description: "Improvise a short imitative passage in C major. Subject: C-E-G. Imitation: G-C-E.",
          notation: "Subject and imitation in different voices",
          audioPattern: ["C4-E4-G4", "G4-C5-E5"],
        },
      ],
      exercises: [
        {
          id: "imitazione-1",
          type: "play",
          prompt": "Improvise a short imitative passage in C major, introducing a simple melodic idea and imitating it in another voice.",
          correctAnswer": "A passage demonstrating free imitation with coherent voice leading.",
          hints": [
            "Create a short, memorable melodic idea.",
            "Introduce it in one voice, then imitate it in another.",
            "Focus on smooth voice leading and consonant harmony.",
          ],
        },
      ],
      historicalContext:
        "Italian counterpoint, particularly in the form of Imitazione, emphasized melodic fluidity and expressive voice leading. This approach contrasted with the more rigorous, structural focus of German fugue. Improvising in the style of Imitazione allowed musicians to create music that was both contrapuntally intricate and melodically beautiful, reflecting the Italian aesthetic preference for grace and elegance.",
    },
  },
  {
    id: "mast-5-free-improvisation",
    title: "Free Improvisation: Combining All Elements",
    description: "Improvise freely using all learned patterns and techniques",
    category: "improvisation",
    tradition: "both",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-4-imitazione"],
    xpReward: 150,
    content: {
      theory:
        "Free improvisation: Combine schemata, diminutions, Griffe, and fugal techniques into coherent musical statements. The ultimate goal of baroque training. This level represents the synthesis of all learned skills. It involves spontaneously creating music that is harmonically rich, melodically engaging, rhythmically varied, and structurally coherent. Free improvisation draws upon a deep understanding of musical patterns, theoretical principles, and stylistic conventions, allowing the performer to express themselves creatively within a given context (e.g., a specific key, tempo, or mood).",
      examples: [
        {
          id: "ex-1",
          description":
            "Improvise a 1-minute piece in C major, incorporating at least two schemata, one diminution technique, and a clear cadence.",
          notation": "Free improvisation",
          audioPattern": ["Improvised music"],
        },
      ],
      exercises: [
        {
          id: "free-improvisation-1",
          type: "play",
          prompt":
            "Improvise a 1-minute piece in C major, incorporating elements from at least two different Galant schemas, a diminution technique, and a clear cadence.",
          correctAnswer": "A spontaneous musical creation that demonstrates mastery of combined techniques.",
          hints": [
            "Choose schemas that contrast or complement each other.",
            "Apply a diminution technique to add embellishment.",
            "Ensure a clear harmonic progression and a satisfying cadence.",
            "Focus on musicality and expression.",
          ],
        },
      ],
      historicalContext:
        "In the baroque era, improvisation was not merely an embellishment but an integral part of musical performance and composition. Renowned improvisers like J.S. Bach, Handel, and Mozart were celebrated for their extemporaneous creations, which often served as the basis for composed works. This skill was essential for continuo players, organists, and composers alike, reflecting a deep mastery of musical language.",
    },
  },
  {
    id: "mast-6-durante-partimenti",
    title: "Durante's Diminished Partimenti",
    description: "Master Francesco Durante's sophisticated partimenti",
    category: "patterns",
    tradition: "italian",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-1-fenaroli-book4"],
    xpReward: 120,
    content: {
      theory:
        "Francesco Durante (1684-1755) was the most influential teacher at the Neapolitan conservatories. His partimenti are more sophisticated and chromatic than Fenaroli's, with extensive use of diminished harmonies and complex voice leading. Durante taught Pergolesi, Paisiello, Piccinni, and many other great composers. His partimenti often feature chromatic modulations, chromatic alterations within chords, and intricate voice leading that challenges the student's understanding of harmonic function and voice crossing. They demand a deep command of dissonance and resolution.",
      examples: [
        {
          id: "ex-1",
          description: "Durante Partimento - Diminished seventh chains",
          notation: "Bass: C B Bb A Ab G | Figures: - 6/5 6/5 6/5 6/5 -",
          audioPattern: ["C3", "B2", "Bb2", "A2", "Ab2", "G2"],
          figuredBass: "- 6/5 6/5 6/5 6/5 -",
        },
        {
          id: "ex-2",
          description: "Durante Partimento - Chromatic modulation",
          notation: "Bass: C C# D Eb E F | Figures: - #6 6 b6 6 -",
          audioPattern: ["C3", "C#3", "D3", "Eb3", "E3", "F3"],
          figuredBass: "- #6 6 b6 6 -",
        },
      ],
      exercises: [
        {
          id: "ex-durante-1",
          type: "play",
          prompt": "Realize a Durante partimento featuring diminished seventh chords.",
          correctAnswer": "A realization that effectively uses diminished seventh chords and resolves them correctly.",
          hints": [
            "Identify the bass line and figures.",
            "Understand the harmonic function of diminished seventh chords.",
            "Pay close attention to voice leading, especially with chromatic movement.",
          ],
        },
      ],
      historicalContext:
        "Francesco Durante's partimenti represent the height of Neapolitan pedagogical sophistication, pushing the boundaries of chromaticism and harmonic complexity. His students, who went on to become leading composers of the Classical era, were profoundly influenced by his demanding yet rewarding approach. Durante's partimenti are not merely exercises but miniature compositional blueprints, offering deep insights into the harmonic language of the time.",
    },
  },
  {
    id: "mast-7-insanguine-rules",
    title: "Insanguine's Rules and Partimenti",
    description: "Study Giacomo Insanguine's systematic approach",
    category: "patterns",
    tradition: "italian",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-6-durante-partimenti"],
    xpReward: 120,
    content: {
      theory:
        "Giacomo Insanguine (1728-1795), known as 'Monopoli', created a comprehensive rulebook that systematizes all the patterns of Neapolitan pedagogy. His partimenti are clear and methodical, making them excellent for understanding the underlying principles. Insanguine's contribution lies in his clear articulation of the rules governing partimenti realization, codifying the practices passed down through generations of teachers. His work provides a structured theoretical foundation for the improvisational techniques taught in the conservatories.",
      examples: [
        {
          id: "ex-1",
          description: "Insanguine Partimento - Demonstrating Rule of the Octave",
          notation: "Bass: Ascending scale | Figures: Following Rule of the Octave",
          audioPattern: ["C3", "D3", "E3", "F3", "G3", "A3", "B3", "C4"],
          figuredBass: "Rule of the Octave figures",
        },
      ],
      exercises: [
        {
          id: "ex-insanguine-1",
          type: "play",
          prompt": "Realize an Insanguine partimento that demonstrates the Rule of the Octave.",
          correctAnswer": "A realization that correctly applies the Rule of the Octave patterns.",
          hints": [
            "Consult Insanguine's rules for specific voice leading.",
            "Apply the ascending and descending Rule of the Octave accurately.",
            "Ensure smooth transitions and logical harmonic progression.",
          ],
        },
      ],
      historicalContext:
        "Giacomo Insanguine's systematic approach through his 'Regole per accompagnare' (Rules for Accompaniment) was highly influential. By codifying the practices of partimenti, he made the curriculum more accessible and standardized, ensuring that students received a thorough grounding in harmonic and contrapuntal skills necessary for composition and improvisation.",
    },
  },
  {
    id: "mast-8-sala-treatise",
    title: "Nicola Sala's Theoretical Rules",
    description: "Master the theoretical foundations with Sala",
    category: "patterns",
    tradition: "italian",
    difficulty: "mastery",
    level: 5,
    prerequisites: ["mast-7-insanguine-rules"],
    xpReward: 120,
    content: {
      theory:
        "Nicola Sala (1713-1801) wrote the most comprehensive theoretical treatise on partimenti. His 'Regole del Contrappunto Pratico' (Rules of Practical Counterpoint) explains the theoretical basis for all the patterns you've learned. Sala's treatise was the standard textbook at the Neapolitan conservatories and explains the 'why' behind every rule and pattern. It goes beyond mere pattern recognition, delving into the theoretical underpinnings of harmony, counterpoint, and modulation, providing a deep understanding of musical structure.",
      examples: [
        {
          id: "ex-1",
          description: "Sala's explanation of voice leading principles",
          notation: "Theoretical explanation of voice leading",
          audioPattern: [],
        },
        {
          id: "ex-2",
          description: "Sala's rules for harmonic progression",
          notation: "Theoretical explanation of chord functions",
          audioPattern: [],
        },
      ],
      exercises: [
        {
          id: "ex-sala-1",
          type: "identify",
          prompt": "What is the primary focus of Nicola Sala's 'Regole del Contrappunto Pratico'?",
          options": ["Melodic composition", "Instrumental technique", "Theoretical basis of practical counterpoint (partimenti)", "Music history"],
          correctAnswer": "Theoretical basis of practical counterpoint (partimenti)",
          hints": ["The title itself gives a clue", "It explains the 'why' behind the patterns"],
        },
      ],
      historicalContext:
        "Nicola Sala's comprehensive treatise served as the definitive theoretical text for partimenti pedagogy, solidifying the principles that underpinned improvisational and compositional training in the Neapolitan conservatories. His work provided a rigorous academic framework for the practical exercises, ensuring that generations of musicians possessed a deep understanding of musical structure and theory.",
    },
  },

  // ============================================
  // LEVEL 4: ADVANCED PATTERNS
  // ============================================
  {
    id: "adv-1-fenaroli-schema",
    title: "Galant Schema: Fenaroli",
    description: "Master the 7-1-7-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["inter-8-fenaroli-book1"],
    xpReward: 65,
    content: {
      theory:
        "Fenaroli: 7-1-7-1 in the bass with specific upper voice patterns. A sophisticated cadential approach. This schema is characterized by its ascending bass line (7-1) repeated, creating a sense of harmonic tension and release. The harmony typically involves dominant seventh chords and their resolutions, often leading to a strong cadence. The upper voices create melodic interest by moving in contrary motion or creating suspensions against the sustained bass notes. This schema is highly effective for creating dramatic cadences and phrase extensions.",
      examples: [
        {
          id: "fenaroli-schema-ex-1",
          title: "Basic Fenaroli Schema",
          description: "Bass: B-C-B-C (in C major). Harmony: V7 - I - V7 - I",
          notation: "Bass: 7-1-7-1 | Harmony: V7 - I - V7 - I",
          figuredBass: "7/5/3 - 5/3 - 7/5/3 - 5/3",
          audioPattern: ["[B2,B3,D4,F4]", "[C2,C3,E3,G3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "fenaroli-schema-ex-2",
          title: "Fenaroli with Soprano Suspensions",
          description: "Bass: B-C-B-C | Soprano: F-E-F-E (creating suspensions over the dominant).",
          notation: "Bass: 7-1-7-1 | Soprano: 7-6-7-6",
          figuredBass: "7/5/3 - 5/3 - 7/5/3 - 5/3",
          audioPattern: ["[B2,B3,D4,F4]", "[C2,C3,E3,G3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "fenaroli-schema-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Fenaroli schema?",
          options: [
            "Descending stepwise",
            "Ascending then descending",
            "Alternating between two notes (e.g., 7-1-7-1)",
            "Leaping by fourths",
          ],
          correctAnswer: "Alternating between two notes (e.g., 7-1-7-1)",
          hints: ["The pattern repeats a short bass figure", "It creates a strong cadential effect"],
        },
        {
          id: "fenaroli-schema-2",
          type: "identify",
          prompt: "What type of chord is typically prominent in the Fenaroli schema?",
          options: ["Major triads", "Minor triads", "Dominant seventh chords", "Diminished seventh chords"],
          correctAnswer: "Dominant seventh chords",
          hints: ["This schema builds tension", "Dominant sevenths create strong pull towards the tonic"],
        },
        {
          id: "fenaroli-schema-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Fenaroli schema in C major. Bass: B-C-B-C. Harmony: V7 - I - V7 - I. Soprano: F-E-F-E.",
          correctAnswer": "Left hand: B-C-B-C. Right hand: F-E-F-E, with appropriate chord voicings.",
          hints": [
            "Over B, play a G dominant seventh chord (V7).",
            "Over C, play a C major chord (I).",
            "The soprano creates suspensions over the dominant.",
          ],
        },
      ],
      historicalContext:
        "The Fenaroli schema, named after the renowned partimenti theorist Fedele Fenaroli, is a sophisticated cadential pattern used to create harmonic tension and anticipation. Its repeated bass figure (often 7-1-7-1) and emphasis on dominant seventh chords make it highly effective in preparing for a conclusive cadence. This schema demonstrates the Neapolitan focus on building harmonic complexity and dramatic effect within structured frameworks, preparing students for more advanced compositional techniques.",
    },
  },
  {
    id: "adv-2-indugio",
    title: "Galant Schema: Indugio",
    description: "Learn the pedal point delay pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-1-fenaroli-schema"],
    xpReward: 65,
    content: {
      theory:
        "Indugio: A pedal point on 4 with 6 or 6/5 chord, delaying the cadence. Creates suspense and anticipation. The 'Indugio' (Italian for 'delay' or 'pause') schema utilizes a sustained bass note, typically the subdominant (scale degree 4), over which harmonies shift. Often, a first inversion chord (6/3) or a second inversion dominant seventh chord (6/5) is used above the sustained bass. This creates a sense of harmonic suspension and delays the expected resolution, building anticipation for the final cadence. It effectively stretches out the harmonic progression and adds expressive depth.",
      examples: [
        {
          id: "indugio-ex-1",
          title: "Basic Indugio Schema",
          description: "Bass: F (sustained) | Upper voices move through I6 - V/V - IV. (In C major)",
          notation: "Bass: 4 (sustained) | Upper voices: shifting harmonies",
          figuredBass: "Pedal point on 4 with 6/3 or 6/5",
          audioPattern: ["[F2,F3,A3,C4]", "[F2,F3,C4,E4]", "[F2,F3,A3,C4]"],
        },
        {
          id: "indugio-ex-2",
          title: "Indugio with Suspensions",
          description: "Bass: F (sustained) | Upper voices create suspensions over the pedal point.",
          notation: "Bass: 4 (sustained) | Upper voices: suspensions resolving",
          figuredBass: "Pedal point with suspensions",
          audioPattern: ["[F2,F3,A3,C4]", "[F2,F3,Bb4,D5]", "[F2,F3,A3,C4]"],
        },
      ],
      exercises: [
        {
          id: "indugio-1",
          type: "identify",
          prompt: "What does the Italian term 'Indugio' mean in this context?",
          options: ["Sudden resolution", "Rapid ascent", "Delay or pause", "Harmonic complexity"],
          correctAnswer: "Delay or pause",
          hints: ["It refers to stretching out the musical moment", "It creates a sense of waiting"],
        },
        {
          id: "indugio-2",
          type: "identify",
          prompt: "What is the typical bass note used for the pedal point in the Indugio schema?",
          options: ["1 (tonic)", "5 (dominant)", "4 (subdominant)", "2 (supertonic)"],
          correctAnswer: "4 (subdominant)",
          hints: ["This note creates a specific harmonic color when sustained", "It often precedes a dominant preparation"],
        },
        {
          id: "indugio-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Indugio schema in C major. Bass: F (sustained for 4 beats). Upper voices: I6 - V/V - IV. (Example voicing: F-A-C, F-G-B, F-A-C).",
          correctAnswer": "Left hand: Sustained F. Right hand: F-A-C, F-G-B, F-A-C.",
          hints": [
            "The left hand holds the F.",
            "The right hand outlines the harmonies: F-A-C (F major first inversion), F-G-B (G major first inversion, or altered), F-A-C (F major).",
            "Listen for the harmonic suspension.",
          ],
        },
      ],
      historicalContext:
        "The Indugio schema, or 'delay,' is a sophisticated technique used in Neapolitan partimenti to create harmonic suspense and expressive depth. By sustaining a bass note (often the subdominant) and shifting harmonies above it, composers could prolong harmonic tension and anticipation, making the eventual resolution more impactful. This schema highlights the Neapolitan emphasis on expressive voice leading and the manipulation of harmonic rhythm to achieve specific emotional effects.",
    },
  },
  {
    id: "adv-3-jupiter",
    title: "Galant Schema: Jupiter",
    description: "Master the 1-2-4-3 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-2-indugio"],
    xpReward: 65,
    content: {
      theory:
        "Jupiter: 1-2-4-3 in the bass, named after Mozart's Jupiter Symphony. A majestic opening pattern. This schema is characterized by its ascending bass line (1-2), followed by a descending leap (2 to 4, which is usually a diminished fifth or augmented fourth depending on the key), and finally a descent to the tonic (4-3). The harmony often involves I - V6/3 - Cadential 6/4 - V. Its majestic quality comes from the strong harmonic progressions and the sense of confident arrival. It's often used to open a grand or important movement.",
      examples: [
        {
          id: "jupiter-ex-1",
          title: "Basic Jupiter Schema",
          description: "Bass: C-D-F-E (in C major). Harmony: I - V6/3 - Cadential 6/4 - V",
          notation: "Bass: 1-2-4-3 | Harmony: I - V6/3 - Cadential 6/4 - V",
          figuredBass: "5/3 - 6/3 - 6/4 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
        {
          id: "jupiter-ex-2",
          title: "Jupiter with Descending Soprano",
          description: "Bass: C-D-F-E | Soprano: G-A-C-B. Creating contrary motion.",
          notation: "Bass: 1-2-4-3 | Soprano: 5-6-8-7",
          figuredBass: "5/3 - 6/3 - 6/4 - 5/3",
          audioPattern: ["[C3,C4,E4,G4]", "[D3,D4,F4,A4]", "[F2,F3,A3,C4]", "[E2,E3,G3,B3]"],
        },
      ],
      exercises: [
        {
          id: "jupiter-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Jupiter schema?",
          options: ["Descending stepwise", "Ascending then leaping down", "Repeating the same note", "Ascending leaps"],
          correctAnswer: "Ascending then leaping down",
          hints: ["The bass line moves up, then down", "It has a distinctive leap"],
        },
        {
          id: "jupiter-2",
          type: "identify",
          prompt: "In C major, what are the bass notes for the Jupiter schema?",
          options: ["C-D-E-F", "G-F-E-D", "A-G-F-E", "C-D-F-E"],
          correctAnswer: "C-D-F-E",
          hints: ["Starts on scale degree 1", "Follows the pattern 1-2-4-3"],
        },
        {
          id: "jupiter-3",
          type: "identify",
          prompt: "What quality does the Jupiter schema often impart to a musical passage?",
          options: ["Playfulness and lightness", "Majesty and grandeur", "Tension and suspense", "Melancholy and introspection"],
          correctAnswer: "Majesty and grandeur",
          hints: ["It's named after a grand symphony", "It has a strong, confident sound"],
        },
        {
          id: "jupiter-4-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Jupiter schema in C major. Bass: C-D-F-E. Harmony: I (5/3) - V6/3 (6/3) - Cadential 6/4 (6/4) - V (5/3). Soprano: G-A-C-B.",
          correctAnswer": "Left hand: C-D-F-E. Right hand: G-A-C-B, with appropriate chord voicings.",
          hints": [
            "C bass (I): Play C-E-G",
            "D bass (V6/3): Play D-F-A (first inversion of G major)",
            "F bass (Cadential 6/4): Play F-A-C (second inversion of C major)",
            "E bass (V): Play E-G-B (or E-G-D)",
          ],
        },
      ],
      historicalContext:
        "The Jupiter schema, famously featured in the finale of Mozart's Symphony No. 41 ('Jupiter'), exemplifies the majestic and grand character often found in late Galant and early Classical music. Its distinctive bass line (1-2-4-3) combined with strong harmonic progressions allows for powerful openings and climactic moments. The schema's name reflects its regal and triumphant quality, making it a recognizable and impactful pattern for composers and listeners alike.",
    },
  },
  {
    id: "adv-4-aprile",
    title: "Galant Schema: Aprile",
    description: "Learn the 4-3-7-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-3-jupiter"],
    xpReward: 65,
    content: {
      theory:
        "Aprile: 4-3-7-1 in the bass, a sophisticated cadential pattern. This schema is characterized by its descending bass line (4-3), followed by a strong dominant preparation (7-1). The harmony typically involves progressions that emphasize the dominant seventh chord, leading to a clear resolution to the tonic. It's a common way to approach the end of a phrase or section, providing a sense of finality and harmonic satisfaction. The upper voices often move in stepwise contrary motion to create smooth voice leading.",
      examples: [
        {
          id: "aprile-ex-1",
          title: "Basic Aprile Schema",
          description: "Bass: F-E-B-C (in C major). Harmony: IV - V6/3 - V7 - I",
          notation: "Bass: 4-3-7-1 | Harmony: IV - V6/3 - V7 - I",
          figuredBass: "5/3 - 6/3 - 7/5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
        {
          id: "aprile-ex-2",
          title: "Aprile with Soprano Descent",
          description: "Bass: F-E-B-C | Soprano: A-G-D-E. Creating contrary motion.",
          notation: "Bass: 4-3-7-1 | Soprano: 6-5-2-3",
          figuredBass: "5/3 - 6/3 - 7/5/3 - 5/3",
          audioPattern: ["[F2,F3,A3,C4]", "[E2,E3,G3,B3]", "[B2,B3,D4,F4]", "[C2,C3,E3,G3]"],
        },
      ],
      exercises: [
        {
          id: "aprile-1",
          type: "identify",
          prompt: "What is the characteristic bass motion of the Aprile schema?",
          options: [
            "Ascending stepwise",
            "Descending stepwise, then dominant preparation",
            "Repeating bass notes",
            "Leaping bass line",
          ],
          correctAnswer: "Descending stepwise, then dominant preparation",
          hints: ["The first part descends, the second part prepares the tonic", "Think of the scale degrees 4-3-7-1"],
        },
        {
          id: "aprile-2",
          type: "identify",
          prompt: "What type of chord is typically prominent in the Aprile schema, leading to the final resolution?",
          options: ["Tonic chord", "Subdominant chord", "Dominant seventh chord", "Diminished chord"],
          correctAnswer: "Dominant seventh chord",
          hints: ["This schema is about preparing a strong cadence", "Dominant seventh chords are key to cadences"],
        },
        {
          id: "aprile-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Aprile schema in C major. Bass: F-E-B-C. Harmony: IV (5/3) - V6/3 (6/3) - V7 (7/5/3) - I (5/3). Soprano: A-G-D-E.",
          correctAnswer": "Left hand: F-E-B-C. Right hand: A-G-D-E, with appropriate chord voicings.",
          hints": [
            "F bass (IV): Play F-A-C",
            "E bass (V6/3): Play E-G-B (first inversion of C major)",
            "B bass (V7): Play B-D-F-A",
            "C bass (I): Play C-E-G",
          ],
        },
      ],
      historicalContext:
        "The Aprile schema, named after the Italian composer Giuseppe Aprile, is a sophisticated cadential pattern commonly found in Galant and Classical music. Its structure, featuring a descending bass line followed by a strong dominant preparation (4-3-7-1), makes it highly effective for creating a sense of harmonic finality. This schema exemplifies the Neapolitan tradition of developing clear, memorable cadential formulas that provide both structural integrity and expressive weight to musical compositions.",
    },
  },
  {
    id: "adv-5-pastorella",
    title: "Galant Schema: Pastorella",
    description: "Master the pastoral 1-5-1 pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-4-aprile"],
    xpReward: 65,
    content: {
      theory:
        "Pastorella: 1-5-1 with drone bass, evoking pastoral scenes. Often in 6/8 or 12/8 time. This schema is characterized by a sustained or repeated bass note (often the tonic or dominant) while the upper voices create a simple, folk-like melody. The harmony often involves major triads and avoids complex dissonances, contributing to its serene and idyllic character. The drone effect enhances the pastoral atmosphere. It's frequently found in character pieces, operatic interludes, or movements depicting nature.",
      examples: [
        {
          id: "pastorella-ex-1",
          title: "Basic Pastorella Schema",
          description: "Bass: C (sustained) | Upper voices: simple melody evoking a drone effect.",
          notation: "Bass: 1 (sustained) | Upper voices: folk-like melody",
          figuredBass: "Drone on 1",
          audioPattern: ["[C3,C4,E4,G4]", "[C3,C4,G4,C5]", "[C3,C4,E4,G4]"],
        },
        {
          id: "pastorella-ex-2",
          title: "Pastorella with Drone on Dominant",
          description: "Bass: G (sustained) | Upper voices: simple melody evoking a drone effect.",
          notation: "Bass: 5 (sustained) | Upper voices: folk-like melody",
          figuredBass: "Drone on 5",
          audioPattern: ["[G3,G4,B4,D5]", "[G3,G4,D5,G5]", "[G3,G4,B4,D5]"],
        },
      ],
      exercises: [
        {
          id: "pastorella-1",
          type: "identify",
          prompt: "What musical character does the Pastorella schema typically evoke?",
          options: [
            "Dramatic intensity",
            "Pastoral serenity and simplicity",
            "Urban hustle and bustle",
            "Mysterious suspense",
          ],
          correctAnswer: "Pastoral serenity and simplicity",
          hints: ["The name itself suggests a rural theme", "Simple melodies and harmonies contribute to this"],
        },
        {
          id: "pastorella-2",
          type: "identify",
          prompt: "What is a common feature of the bass line in the Pastorella schema?",
          options: [
            "Rapid ascending scales",
            "A sustained or repeated note (drone)",
            "Complex leaps",
            "Descending arpeggios",
          ],
          correctAnswer: "A sustained or repeated note (drone)",
          hints: ["This creates a stable foundation", "It allows the upper voices to be more melodic"],
        },
        {
          id: "pastorella-3-keyboard",
          type: "play",
          prompt":
            "KEYBOARD: Realize the Pastorella schema in C major. Bass: C (sustained for 4 beats). Upper voices: C-E-G, C-G-C, C-E-G.",
          correctAnswer": "Left hand: Sustained C. Right hand: C-E-G, C-G-C, C-E-G.",
          hints": [
            "The left hand holds the C.",
            "The right hand plays simple, consonant harmonies above the drone.",
            "Focus on creating a calm, pastoral atmosphere.",
          ],
        },
        {
          id: "pastorella-4-keyboard",
          type: "play",
          prompt": "KEYBOARD: Realize the Pastorella schema in G major. Bass: G (sustained for 4 beats). Upper voices: G-B-D, G-D-G, G-B-D.",
          correctAnswer": "Left hand: Sustained G. Right hand: G-B-D, G-D-G, G-B-D.",
          hints": [
            "The left hand holds the G.",
            "The right hand plays simple, consonant harmonies above the drone.",
            "Consider using a slightly slower tempo or a lighter touch to enhance the pastoral feel.",
          ],
        },
      ],
      historicalContext:
        "The Pastorella schema, evoking scenes of rural life, was a popular device in Baroque and Galant music for creating a serene and idyllic atmosphere. Composers like Handel and Bach utilized this schema in arias, instrumental movements, and vocal works to depict pastoral settings or moments of tranquility. Its simplicity, characterized by a drone bass and folk-like melodies, made it highly effective in conveying a sense of peace and innocence.",
    },
  },
  {
    id: "adv-6-quieszenza",
    title: "Galant Schema: Quieszenza",
    description: "Learn the 4-3-2-1 closing pattern",
    category: "schemata",
    tradition: "italian",
    difficulty: "advanced",
    level: 4,
    prerequisites: ["adv-5-pastorella"],
    xpReward: 65,
    content: {
      theory:
        "Quieszenza: 4-3-2-1 in the bass, a gentle closing pattern. Creates a sense of peaceful resolution. This schema is characterized by a descending bass line (4-3-2-1) that leads smoothly to the tonic. The harmony typically involves progressions that resolve directly to the tonic chord, creating a sense of finality and rest. It's often used at the end of a phrase or section to provide a gentle conclusion. The upper voices usually follow the bass in contrary motion or create stepwise resolutions, reinforcing the sense of peace.",
      examples: [
        {
          id: "quieszenza-ex-1",
          title: "Basic Quieszenza Schema",
          description: "Bass: F-E-D-C (in C major). Harmony: IV-iii-ii-I. The descending bass creates a gentle resolution.",
          bassPattern: "F3-E3-D3-C3",
          audioPattern: ["F3", "E3", "D3", "C3"],
        },
      ],
      exercises: [
        {
